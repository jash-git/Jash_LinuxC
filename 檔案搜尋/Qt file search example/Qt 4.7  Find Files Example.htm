<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0075)http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- findfiles.qdoc -->
<title>Qt 4.7: Find Files Example</title>
<link rel="stylesheet" type="text/css" href="./Qt 4.7  Find Files Example_files/offline.css">
<link rel="stylesheet" type="text/css" href="./Qt 4.7  Find Files Example_files/default.css">
<link rel="stylesheet" type="text/css" href="./Qt 4.7  Find Files Example_files/qdoc_extra.css">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link rel="stylesheet" type="text/css" href="./Qt 4.7  Find Files Example_files/page.css">
<link rel="stylesheet" type="text/css" href="./Qt 4.7  Find Files Example_files/print.css" media="print">
<link rel="stylesheet" type="text/css" href="./Qt 4.7  Find Files Example_files/jquery-ui-1.8.6.custom.css">
<link rel="stylesheet" type="text/css" href="./Qt 4.7  Find Files Example_files/fonts-min.css">
<link rel="stylesheet" type="text/css" href="./Qt 4.7  Find Files Example_files/treeview.css">
<link rel="stylesheet" type="text/css" href="./Qt 4.7  Find Files Example_files/tree.css">
<script type="text/javascript" async="" src="./Qt 4.7  Find Files Example_files/ga.js"></script><script type="text/javascript" src="./Qt 4.7  Find Files Example_files/treedata.js">
</script><style type="text/css"></style>
<script type="text/javascript" src="./Qt 4.7  Find Files Example_files/jquery-1.4.2.min.js">
</script>
<script type="text/javascript" src="./Qt 4.7  Find Files Example_files/jquery-ui-1.8.6.custom.min.js">
</script>
<script type="text/javascript" src="./Qt 4.7  Find Files Example_files/jquery.ui.autocomplete.html.js">
</script>
<script type="text/javascript" src="./Qt 4.7  Find Files Example_files/jquery.highlight-3.js">
</script>
<script type="text/javascript" src="./Qt 4.7  Find Files Example_files/jquery.tabs.js">
</script>
<script type="text/javascript" src="./Qt 4.7  Find Files Example_files/yahoo-dom-event.js">
</script>
<script type="text/javascript" src="./Qt 4.7  Find Files Example_files/treeview-min.js">
</script>
<script type="text/javascript" src="./Qt 4.7  Find Files Example_files/online.js">
</script>
<script type="text/javascript" src="./Qt 4.7  Find Files Example_files/functions.js">
</script>
<script type="text/javascript" src="./Qt 4.7  Find Files Example_files/json-min.js">
</script><!-- jquery-tooltip plugin -->

<script type="text/javascript" src="./Qt 4.7  Find Files Example_files/jquery.tooltip.js">
</script>
<link rel="stylesheet" type="text/css" href="./Qt 4.7  Find Files Example_files/jquery.tooltip.css">
<style type="text/css">
/*<![CDATA[*/
    .ui-resizable-e {right:0px;}
/*]]>*/
</style>

<script type="text/javascript">
//<![CDATA[
     var treecodes = [[], [], []];
     var useTreeCookie = true;
     var build = "2012-04-24-10-13-07";
     var relpath = "..";
     $(document).ready(init);
     if (top.location != self.location) top.location = self.location;
//]]>
</script>
<script type="text/javascript">
   var _gaq = _gaq || [];
   _gaq.push(['_setAccount', 'UA-25671318-1']);
   _gaq.push(['_trackPageview']);
   (function() {
     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0];
     s.parentNode.insertBefore(ga, s);
   })();
</script>
</head><style type="text/css">embed[type*="application/x-shockwave-flash"],embed[src*=".swf"],object[type*="application/x-shockwave-flash"],object[codetype*="application/x-shockwave-flash"],object[src*=".swf"],object[codebase*="swflash.cab"],object[classid*="D27CDB6E-AE6D-11cf-96B8-444553540000"],object[classid*="d27cdb6e-ae6d-11cf-96b8-444553540000"],object[classid*="D27CDB6E-AE6D-11cf-96B8-444553540000"]{	display: none !important;}</style><style type="text/css"></style>

<body>
<div id="logoarea"><a id="librarylink" href="http://www.developer.nokia.com/"><img src="./Qt 4.7  Find Files Example_files/nokia_developer_logo.png" alt=""></a></div>
<div id="tabs">
<div id="title_and_swipe"><!-- <h5>MeeGo 1.2 Harmattan Developer Documentation</h5> -->
<a id="maintitle"><img id="maintitleimg" src="./Qt 4.7  Find Files Example_files/meego_1.2_harmattan_developer_documentation.png" alt=""></a> <a id="swipelink" href="http://www.developer.nokia.com/swipe/"><img id="swipeimg" src="./Qt 4.7  Find Files Example_files/develop_for_the_nokia_n9_normal.png" alt=""></a></div>
<ul class="tabs">
<li><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#treeview-2"><img id="select-guide" src="./Qt 4.7  Find Files Example_files/developer_library_active.png" alt=""></a></li>
<li><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#treeview-0"><img id="select-services" src="./Qt 4.7  Find Files Example_files/topics.png" alt=""></a></li>
<li><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#treeview-1"><img id="select-libraries" src="./Qt 4.7  Find Files Example_files/libraries.png" alt=""></a></li>
<li><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#search-3"><img id="select-search" src="./Qt 4.7  Find Files Example_files/search.png" alt=""></a></li>
</ul>
</div>
<div id="search-box">
<fieldset><input id="search-field" maxlength="300" type="text" class="ui-autocomplete-input" autocomplete="off" role="textbox" aria-autocomplete="list" aria-haspopup="true"> <img id="search-button" src="./Qt 4.7  Find Files Example_files/search_button_normal.png" alt="Search"> <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#advanced-search">Advanced search</a></fieldset>
<div id="advanced-search" style="display: none;"><select id="package-select">
<option value="all">All content</option>
<option value="accounts-qt">Accounts-Qt</option>
<option value="guide">Developer Library</option>
<option value="egl">EGL 1.4</option>
<option value="manpages">EGLIBC</option>
<option value="meegotouchhome-nokia">Events Feed</option>
<option value="fcam">FCam</option>
<option value="libgq">GConf</option>
<option value="libglib2.0-doc">GLib</option>
<option value="gstreamer0.10-doc">GStreamer</option>
<option value="libinappanalytics">In-App Analytics API</option>
<option value="libmdeclarativecache">MDeclarativeCache</option>
<option value="libndefpush">NDEF Message Push</option>
<option value="notification-engine">Notification API</option>
<option value="opengles-1.1">OpenGL ES 1.1</option>
<option value="opengles-2.0">OpenGL ES 2.0</option>
<option value="pulseaudio">PulseAudio</option>
<option value="qmsystem2">QmSystem</option>
<option value="qt4">Qt 4.7:</option>
<option value="qtcore">&nbsp;&nbsp;QtCore</option>
<option value="qtdbus">&nbsp;&nbsp;QtDBus</option>
<option value="qtdeclarative">&nbsp;&nbsp;QtDeclarative</option>
<option value="qtgui">&nbsp;&nbsp;QtGui</option>
<option value="qtnetwork">&nbsp;&nbsp;QtNetwork</option>
<option value="qtopengl">&nbsp;&nbsp;QtOpenGL</option>
<option value="qtscript">&nbsp;&nbsp;QtScript</option>
<option value="qtscripttools">&nbsp;&nbsp;QtScriptTools</option>
<option value="qtsql">&nbsp;&nbsp;QtSql</option>
<option value="qttest">&nbsp;&nbsp;QtTest</option>
<option value="qtuitools">&nbsp;&nbsp;QtUiTools</option>
<option value="qtxml">&nbsp;&nbsp;QtXml</option>
<option value="qtxmlpatterns">&nbsp;&nbsp;QtXmlPatterns</option>
<option value="libqtgameopengles2">Qt Games API</option>
<option value="qtmobility">Qt Mobility 1.2:</option>
<option value="qtconnectivity">&nbsp;&nbsp;QtConnectivity</option>
<option value="qtcontacts">&nbsp;&nbsp;QtContacts</option>
<option value="qtfeedback">&nbsp;&nbsp;QtFeedback</option>
<option value="qtgallery">&nbsp;&nbsp;QtGallery</option>
<option value="qtlocation">&nbsp;&nbsp;QtLocation</option>
<option value="qtmessaging">&nbsp;&nbsp;QtMessaging</option>
<option value="qtmultimediakit">&nbsp;&nbsp;QtMultimediaKit</option>
<option value="qtorganizer">&nbsp;&nbsp;QtOrganizer</option>
<option value="qtpublishsubscribe">&nbsp;&nbsp;QtPublishSubscribe</option>
<option value="qtsensors">&nbsp;&nbsp;QtSensors</option>
<option value="qtserviceframework">&nbsp;&nbsp;QtServiceFramework</option>
<option value="qtsysteminfo">&nbsp;&nbsp;QtSystemInfo</option>
<option value="qtversit">&nbsp;&nbsp;QtVersit</option>
<option value="qt-components">Qt Quick Components</option>
<option value="qt-components-extras">Qt Quick Components Extras</option>
<option value="qtwebkit">Qt WebKit 2.1</option>
<option value="libqtsparql">QtSparql</option>
<option value="libresourceqt">Resource Policy</option>
<option value="libsignon-qt">SignOn Client Library</option>
<option value="signon-plugins">SignOn Plugin Development</option>
<option value="signon-saslplugin">SignOn SASL Plugin</option>
<option value="libtelepathy-qt4-1-doc">Telepathy-Qt4</option>
<option value="transfer-ui">Transfer UI</option>
</select>
<div id="highlight-checkbox"><label for="checkbox">Highlight keywords</label> <input id="checkbox" type="checkbox"></div>
</div>
<div id="hline"></div>
</div>
<div id="content_and_sidebar"><!-- <img id="tabs-show" class="tabs-show-hide" title="Show the tab view" src="../assets/ui_images/expand-arrow.png"/> -->
<div id="sidebar" class="ui-resizable"><!-- <img id="tabs-hide" class="tabs-show-hide" title="Hide the tab view" src="../assets/ui_images/hide-arrow.png"/> -->
<div id="treeview-0" class="sidebar-tab" style="padding-top: 6em; display: none;"><!--$TREE1--></div>
<div id="treeview-1" class="sidebar-tab" style="padding-top: 6em; display: none;"><!--$TREE2--></div>
<div id="treeview-2" class="sidebar-tab" style="padding-top: 6em; display: block;"><div class="ygtvitem" id="ygtv0"><div class="ygtvchildren" id="ygtvc0"><div class="ygtvitem" id="ygtv1"><table id="ygtvtableel1" border="0" cellpadding="0" cellspacing="0" class="ygtvtable ygtvdepth0 ygtv-highlight0"><tbody><tr class="ygtvrow"><td id="ygtvt1" class="ygtvcell ygtvlm"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel1" class="ygtvcell  ygtvcontent"><a id="ygtvlabelel1" class="ygtvlabel" href="http://harmattan-dev.nokia.com/docs/library/html/guide/html/Developer_Library_MeeGo_1.2_Harmattan_Developer_Library.html" target="_self" title="MeeGo 1.2 Harmattan Developer Library">MeeGo 1.2 Harmattan Developer Library</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc1"><div class="ygtvitem" id="ygtv2"><table id="ygtvtableel2" border="0" cellpadding="0" cellspacing="0" class="ygtvtable ygtvdepth1 ygtv-highlight0"><tbody><tr class="ygtvrow"><td class="ygtvcell ygtvblankdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt2" class="ygtvcell ygtvtn"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel2" class="ygtvcell  ygtvcontent"><a id="ygtvlabelel2" class="ygtvlabel" href="http://harmattan-dev.nokia.com/docs/library/html/guide/html/Developer_Library_Legal_notice.html" target="_self" title="Legal notice">Legal notice</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc2" style="display:none;"></div></div><div class="ygtvitem" id="ygtv3"><table id="ygtvtableel3" border="0" cellpadding="0" cellspacing="0" class="ygtvtable ygtvdepth1 ygtv-highlight0"><tbody><tr class="ygtvrow"><td class="ygtvcell ygtvblankdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt3" class="ygtvcell ygtvtn"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel3" class="ygtvcell  ygtvcontent"><a id="ygtvlabelel3" class="ygtvlabel" href="http://harmattan-dev.nokia.com/docs/library/html/guide/html/Developer_Library_Changes_in_documentation.html" target="_self" title="Changes in documentation">Changes in documentation</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc3" style="display:none;"></div></div><div class="ygtvitem" id="ygtv4"><table id="ygtvtableel4" border="0" cellpadding="0" cellspacing="0" class="ygtvtable ygtvdepth1 ygtv-highlight0"><tbody><tr class="ygtvrow"><td class="ygtvcell ygtvblankdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt4" class="ygtvcell ygtvtn"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel4" class="ygtvcell  ygtvcontent"><a id="ygtvlabelel4" class="ygtvlabel" href="http://harmattan-dev.nokia.com/docs/library/html/guide/html/Developer_Library_Feedback.html" target="_self" title="Feedback">Feedback</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc4" style="display:none;"></div></div><div class="ygtvitem" id="ygtv5"><table id="ygtvtableel5" border="0" cellpadding="0" cellspacing="0" class="ygtvtable ygtvdepth1 ygtv-highlight0"><tbody><tr class="ygtvrow"><td class="ygtvcell ygtvblankdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt5" class="ygtvcell ygtvtn"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel5" class="ygtvcell  ygtvcontent"><a id="ygtvlabelel5" class="ygtvlabel" href="http://harmattan-dev.nokia.com/docs/library/html/guide/html/Developer_Library_Harmattan_overview.html" target="_self" title="Harmattan overview">Harmattan overview</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc5" style="display:none;"></div></div><div class="ygtvitem" id="ygtv6"><table id="ygtvtableel6" border="0" cellpadding="0" cellspacing="0" class="ygtvtable ygtvdepth1 ygtv-highlight0"><tbody><tr class="ygtvrow"><td class="ygtvcell ygtvblankdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt6" class="ygtvcell ygtvtp"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel6" class="ygtvcell  ygtvcontent"><a id="ygtvlabelel6" class="ygtvlabel" href="http://harmattan-dev.nokia.com/docs/library/html/guide/html/Developer_Library_Essential_concepts_for_Harmattan_developers.html" target="_self" title="Essential concepts for Harmattan developers">Essential concepts for Harmattan developers</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc6" style="display:none;"></div></div><div class="ygtvitem" id="ygtv7"><table id="ygtvtableel7" border="0" cellpadding="0" cellspacing="0" class="ygtvtable ygtvdepth1 ygtv-highlight0"><tbody><tr class="ygtvrow"><td class="ygtvcell ygtvblankdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt7" class="ygtvcell ygtvtp"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel7" class="ygtvcell  ygtvcontent"><a id="ygtvlabelel7" class="ygtvlabel" href="http://harmattan-dev.nokia.com/docs/library/html/guide/html/Developer_Library_Getting_started_with_Harmattan_using_Qt_SDK.html" target="_self" title="Getting started with Harmattan using Qt SDK">Getting started with Harmattan using Qt SDK</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc7" style="display:none;"></div></div><div class="ygtvitem" id="ygtv8"><table id="ygtvtableel8" border="0" cellpadding="0" cellspacing="0" class="ygtvtable ygtvdepth1 ygtv-highlight0"><tbody><tr class="ygtvrow"><td class="ygtvcell ygtvblankdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt8" class="ygtvcell ygtvtp"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel8" class="ygtvcell  ygtvcontent"><a id="ygtvlabelel8" class="ygtvlabel" href="http://harmattan-dev.nokia.com/docs/library/html/guide/html/Developer_Library_Developing_for_Harmattan.html" target="_self" title="Developing for Harmattan">Developing for Harmattan</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc8" style="display:none;"></div></div><div class="ygtvitem" id="ygtv9"><table id="ygtvtableel9" border="0" cellpadding="0" cellspacing="0" class="ygtvtable ygtvdepth1 ygtv-highlight0"><tbody><tr class="ygtvrow"><td class="ygtvcell ygtvblankdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt9" class="ygtvcell ygtvtp"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel9" class="ygtvcell  ygtvcontent"><a id="ygtvlabelel9" class="ygtvlabel" href="http://harmattan-dev.nokia.com/docs/library/html/guide/html/Developer_Library_Publishing.html" target="_self" title="Publishing">Publishing</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc9" style="display:none;"></div></div><div class="ygtvitem" id="ygtv10"><table id="ygtvtableel10" border="0" cellpadding="0" cellspacing="0" class="ygtvtable ygtvdepth1 ygtv-highlight0"><tbody><tr class="ygtvrow"><td class="ygtvcell ygtvblankdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt10" class="ygtvcell ygtvtp"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel10" class="ygtvcell  ygtvcontent"><a id="ygtvlabelel10" class="ygtvlabel" href="http://harmattan-dev.nokia.com/docs/library/html/guide/html/Developer_Library_Best_practices_for_application_development.html" target="_self" title="Best practices for application development">Best practices for application development</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc10" style="display:none;"></div></div><div class="ygtvitem" id="ygtv11"><table id="ygtvtableel11" border="0" cellpadding="0" cellspacing="0" class="ygtvtable ygtvdepth1 ygtv-highlight0"><tbody><tr class="ygtvrow"><td class="ygtvcell ygtvblankdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt11" class="ygtvcell ygtvtp"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel11" class="ygtvcell  ygtvcontent"><a id="ygtvlabelel11" class="ygtvlabel" href="http://harmattan-dev.nokia.com/docs/library/html/guide/html/Developer_Library_Reference_documentation.html" target="_self" title="Reference documentation">Reference documentation</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc11" style="display:none;"></div></div><div class="ygtvitem" id="ygtv12"><table id="ygtvtableel12" border="0" cellpadding="0" cellspacing="0" class="ygtvtable ygtvdepth1 ygtv-highlight0"><tbody><tr class="ygtvrow"><td class="ygtvcell ygtvblankdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt12" class="ygtvcell ygtvtp"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel12" class="ygtvcell  ygtvcontent"><a id="ygtvlabelel12" class="ygtvlabel" href="http://harmattan-dev.nokia.com/docs/library/html/guide/html/Developer_Library_Alternative_development_environments.html" target="_self" title="Alternative development environments">Alternative development environments</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc12" style="display:none;"></div></div><div class="ygtvitem" id="ygtv13"><table id="ygtvtableel13" border="0" cellpadding="0" cellspacing="0" class="ygtvtable ygtvdepth1 ygtv-highlight0"><tbody><tr class="ygtvrow"><td class="ygtvcell ygtvblankdepthcell"><div class="ygtvspacer"></div></td><td id="ygtvt13" class="ygtvcell ygtvlp"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#" class="ygtvspacer">&nbsp;</a></td><td id="ygtvcontentel13" class="ygtvcell  ygtvcontent"><a id="ygtvlabelel13" class="ygtvlabel" href="http://harmattan-dev.nokia.com/docs/library/html/guide/html/examples/index.html" target="_self" title="Examples">Examples</a></td></tr></tbody></table><div class="ygtvchildren" id="ygtvc13" style="display:none;"></div></div></div></div></div></div></div>
<div id="search-3" class="sidebar-tab" style="padding-top: 6em; display: none;">
<div id="search-results"></div>
</div>
<div class="ui-resizable-handle ui-resizable-e" style=""></div></div>
<div id="body-content" class="body-content-small">
<div class="header" id="qtdocheader">
<div class="content"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/index.html" class="qtref"><span>Qt Reference Documentation</span></a></div>
<div class="breadcrumb toolblock">
<ul>
<li class="first"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/index.html">Home</a></li>
<!--  Breadcrumbs go here -->
<li><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/all-examples.html">Examples</a></li>
<li>Find Files Example</li>
</ul>
</div>
</div>
<div class="content mainContent">
<div class="toc">
<h3><a id="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#window-class-definition">Window Class Definition</a></li>
<li class="level1"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles.html#window-class-implementation">Window Class Implementation</a></li>
</ul>
</div>
<h1 class="title">Find Files Example</h1>
<!-- $$$dialogs/findfiles-description -->
<div class="descr"><a id="details"></a>
<p>Files:</p>
<ul>
<li><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles-window-cpp.html">dialogs/findfiles/window.cpp</a></li>
<li><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles-window-h.html">dialogs/findfiles/window.h</a></li>
<li><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles-main-cpp.html">dialogs/findfiles/main.cpp</a></li>
<li><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/dialogs-findfiles-findfiles-pro.html">dialogs/findfiles/findfiles.pro</a></li>
</ul>
<p>The Find Files example shows how to use <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qprogressdialog.html">QProgressDialog</a> to provide feedback on the progress of a slow operation. The example also shows how to use <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qfiledialog.html">QFileDialog</a> to facilitate browsing, how to use <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtextstream.html">QTextStream</a>'s streaming operators to read a file, and how to use <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtablewidget.html">QTableWidget</a> to provide standard table display facilities for applications. In addition, files can be opened using the <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qdesktopservices.html">QDesktopServices</a> class.</p>
<p class="centerAlign"><img src="./Qt 4.7  Find Files Example_files/findfiles-example.png" alt=""></p>
<p>With the Find Files application the user can search for files in a specified directory, matching a specified file name (using wild cards if appropiate) and containing a specified text.</p>
<p>The user is provided with a <b>Browse</b> option, and the result of the search is displayed in a table with the names of the files found and their sizes. In addition the application provides a total count of the files found.</p>
<a id="window-class-definition"></a>
<h2>Window Class Definition</h2>
<p>The <tt>Window</tt> class inherits <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qwidget.html">QWidget</a>, and is the main application widget. It shows the search options, and displays the search results.</p>
<pre class="cpp"> <span class="keyword">class</span> Window : <span class="keyword">public</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qdialog.html">QDialog</a></span>
 {
     Q_OBJECT

 <span class="keyword">public</span>:
     Window(<span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qwidget.html">QWidget</a></span> <span class="operator">*</span>parent <span class="operator">=</span> <span class="number">0</span>);

 <span class="keyword">private</span> <span class="keyword">slots</span>:
     <span class="type">void</span> browse();
     <span class="type">void</span> find();
     <span class="type">void</span> openFileOfItem(<span class="type">int</span> row<span class="operator">,</span> <span class="type">int</span> column);

 <span class="keyword">private</span>:
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstringlist.html">QStringList</a></span> findFiles(<span class="keyword">const</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstringlist.html">QStringList</a></span> <span class="operator">&amp;</span>files<span class="operator">,</span> <span class="keyword">const</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstring.html">QString</a></span> <span class="operator">&amp;</span>text);
     <span class="type">void</span> showFiles(<span class="keyword">const</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstringlist.html">QStringList</a></span> <span class="operator">&amp;</span>files);
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qpushbutton.html">QPushButton</a></span> <span class="operator">*</span>createButton(<span class="keyword">const</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstring.html">QString</a></span> <span class="operator">&amp;</span>text<span class="operator">,</span> <span class="keyword">const</span> <span class="type">char</span> <span class="operator">*</span>member);
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qcombobox.html">QComboBox</a></span> <span class="operator">*</span>createComboBox(<span class="keyword">const</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstring.html">QString</a></span> <span class="operator">&amp;</span>text <span class="operator">=</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstring.html">QString</a></span>());
     <span class="type">void</span> createFilesTable();

     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qcombobox.html">QComboBox</a></span> <span class="operator">*</span>fileComboBox;
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qcombobox.html">QComboBox</a></span> <span class="operator">*</span>textComboBox;
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qcombobox.html">QComboBox</a></span> <span class="operator">*</span>directoryComboBox;
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qlabel.html">QLabel</a></span> <span class="operator">*</span>fileLabel;
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qlabel.html">QLabel</a></span> <span class="operator">*</span>textLabel;
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qlabel.html">QLabel</a></span> <span class="operator">*</span>directoryLabel;
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qlabel.html">QLabel</a></span> <span class="operator">*</span>filesFoundLabel;
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qpushbutton.html">QPushButton</a></span> <span class="operator">*</span>browseButton;
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qpushbutton.html">QPushButton</a></span> <span class="operator">*</span>findButton;
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtablewidget.html">QTableWidget</a></span> <span class="operator">*</span>filesTable;

     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qdir.html">QDir</a></span> currentDir;
 };
</pre>
<p>We need two private slots: The <tt>browse()</tt> slot is called whenever the user wants to browse for a directory to search in, and the <tt>find()</tt> slot is called whenever the user requests a search to be performed by pressing the <b>Find</b> button.</p>
<p>In addition we declare several private functions: We use the <tt>findFiles()</tt> function to search for files matching the user's specifications, we call the <tt>showFiles()</tt> function to display the results, and we use <tt>createButton()</tt>, <tt>createComboBox()</tt> and <tt>createFilesTable()</tt> when we are constructing the widget.</p>
<a id="window-class-implementation"></a>
<h2>Window Class Implementation</h2>
<p>In the constructor we first create the application's widgets.</p>
<pre class="cpp"> Window<span class="operator">::</span>Window(<span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qwidget.html">QWidget</a></span> <span class="operator">*</span>parent)
     : <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qdialog.html">QDialog</a></span>(parent)
 {
     browseButton <span class="operator">=</span> createButton(tr(<span class="string">"&amp;Browse..."</span>)<span class="operator">,</span> SLOT(browse()));
     findButton <span class="operator">=</span> createButton(tr(<span class="string">"&amp;Find"</span>)<span class="operator">,</span> SLOT(find()));

     fileComboBox <span class="operator">=</span> createComboBox(tr(<span class="string">"*"</span>));
     textComboBox <span class="operator">=</span> createComboBox();
     directoryComboBox <span class="operator">=</span> createComboBox(<span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qdir.html">QDir</a></span><span class="operator">::</span>currentPath());

     fileLabel <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qlabel.html">QLabel</a></span>(tr(<span class="string">"Named:"</span>));
     textLabel <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qlabel.html">QLabel</a></span>(tr(<span class="string">"Containing text:"</span>));
     directoryLabel <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qlabel.html">QLabel</a></span>(tr(<span class="string">"In directory:"</span>));
     filesFoundLabel <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qlabel.html">QLabel</a></span>;

     createFilesTable();
</pre>
<p>We create the application's buttons using the private <tt>createButton()</tt> function. Then we create the comboboxes associated with the search specifications, using the private <tt>createComboBox()</tt> function. We also create the application's labels before we use the private <tt>createFilesTable()</tt> function to create the table displaying the search results.</p>
<pre class="cpp">     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qhboxlayout.html">QHBoxLayout</a></span> <span class="operator">*</span>buttonsLayout <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qhboxlayout.html">QHBoxLayout</a></span>;
     buttonsLayout<span class="operator">-</span><span class="operator">&gt;</span>addStretch();
     buttonsLayout<span class="operator">-</span><span class="operator">&gt;</span>addWidget(findButton);

     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qgridlayout.html">QGridLayout</a></span> <span class="operator">*</span>mainLayout <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qgridlayout.html">QGridLayout</a></span>;
     mainLayout<span class="operator">-</span><span class="operator">&gt;</span>addWidget(fileLabel<span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">0</span>);
     mainLayout<span class="operator">-</span><span class="operator">&gt;</span>addWidget(fileComboBox<span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">2</span>);
     mainLayout<span class="operator">-</span><span class="operator">&gt;</span>addWidget(textLabel<span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">0</span>);
     mainLayout<span class="operator">-</span><span class="operator">&gt;</span>addWidget(textComboBox<span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">2</span>);
     mainLayout<span class="operator">-</span><span class="operator">&gt;</span>addWidget(directoryLabel<span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">0</span>);
     mainLayout<span class="operator">-</span><span class="operator">&gt;</span>addWidget(directoryComboBox<span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">1</span>);
     mainLayout<span class="operator">-</span><span class="operator">&gt;</span>addWidget(browseButton<span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">2</span>);
     mainLayout<span class="operator">-</span><span class="operator">&gt;</span>addWidget(filesTable<span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">3</span>);
     mainLayout<span class="operator">-</span><span class="operator">&gt;</span>addWidget(filesFoundLabel<span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">3</span>);
     mainLayout<span class="operator">-</span><span class="operator">&gt;</span>addLayout(buttonsLayout<span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">3</span>);
     setLayout(mainLayout);

     setWindowTitle(tr(<span class="string">"Find Files"</span>));
     resize(<span class="number">700</span><span class="operator">,</span> <span class="number">300</span>);
 }
</pre>
<p>Then we add all the widgets to a main layout using <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qgridlayout.html">QGridLayout</a>. We have, however, put the <tt>Find</tt> and <tt>Quit</tt> buttons and a stretchable space in a separate <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qhboxlayout.html">QHBoxLayout</a> first, to make the buttons appear in the <tt>Window</tt> widget's bottom right corner.</p>
<pre class="cpp"> <span class="type">void</span> Window<span class="operator">::</span>browse()
 {
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstring.html">QString</a></span> directory <span class="operator">=</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qfiledialog.html">QFileDialog</a></span><span class="operator">::</span>getExistingDirectory(<span class="keyword">this</span><span class="operator">,</span>
                                tr(<span class="string">"Find Files"</span>)<span class="operator">,</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qdir.html">QDir</a></span><span class="operator">::</span>currentPath());

     <span class="keyword">if</span> (<span class="operator">!</span>directory<span class="operator">.</span>isEmpty()) {
         <span class="keyword">if</span> (directoryComboBox<span class="operator">-</span><span class="operator">&gt;</span>findText(directory) <span class="operator">=</span><span class="operator">=</span> <span class="operator">-</span><span class="number">1</span>)
             directoryComboBox<span class="operator">-</span><span class="operator">&gt;</span>addItem(directory);
         directoryComboBox<span class="operator">-</span><span class="operator">&gt;</span>setCurrentIndex(directoryComboBox<span class="operator">-</span><span class="operator">&gt;</span>findText(directory));
     }
 }
</pre>
<p>The <tt>browse()</tt> slot presents a file dialog to the user, using the <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qfiledialog.html">QFileDialog</a> class. <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qfiledialog.html">QFileDialog</a> enables a user to traverse the file system in order to select one or many files or a directory. The easiest way to create a <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qfiledialog.html">QFileDialog</a> is to use the convenience static functions.</p>
<p>Here we use the static <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qfiledialog.html#getExistingDirectory">QFileDialog::getExistingDirectory</a>() function which returns an existing directory selected by the user. Then we display the directory in the directory combobox using the <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qcombobox.html#addItem">QComboBox::addItem</a>() function, and updates the current index.</p>
<p><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qcombobox.html#addItem">QComboBox::addItem</a>() adds an item to the combobox with the given text (if it is not already present in the list), and containing the specified userData. The item is appended to the list of existing items.</p>
<pre class="cpp"> <span class="type">void</span> Window<span class="operator">::</span>find()
 {
     filesTable<span class="operator">-</span><span class="operator">&gt;</span>setRowCount(<span class="number">0</span>);

     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstring.html">QString</a></span> fileName <span class="operator">=</span> fileComboBox<span class="operator">-</span><span class="operator">&gt;</span>currentText();
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstring.html">QString</a></span> text <span class="operator">=</span> textComboBox<span class="operator">-</span><span class="operator">&gt;</span>currentText();
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstring.html">QString</a></span> path <span class="operator">=</span> directoryComboBox<span class="operator">-</span><span class="operator">&gt;</span>currentText();
</pre>
<p>The <tt>find()</tt> slot is called whenever the user requests a new search by pressing the <b>Find</b> button.</p>
<p>First we eliminate any previous search results by setting the table widgets row count to zero. Then we retrieve the specified file name, text and directory path from the respective comboboxes.</p>
<pre class="cpp">     currentDir <span class="operator">=</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qdir.html">QDir</a></span>(path);
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstringlist.html">QStringList</a></span> files;
     <span class="keyword">if</span> (fileName<span class="operator">.</span>isEmpty())
         fileName <span class="operator">=</span> <span class="string">"*"</span>;
     files <span class="operator">=</span> currentDir<span class="operator">.</span>entryList(<span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstringlist.html">QStringList</a></span>(fileName)<span class="operator">,</span>
                                  <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qdir.html">QDir</a></span><span class="operator">::</span>Files <span class="operator">|</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qdir.html">QDir</a></span><span class="operator">::</span>NoSymLinks);

     <span class="keyword">if</span> (<span class="operator">!</span>text<span class="operator">.</span>isEmpty())
         files <span class="operator">=</span> findFiles(files<span class="operator">,</span> text);
     showFiles(files);
 }
</pre>
<p>We use the directory's path to create a <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qdir.html">QDir</a>; the <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qdir.html">QDir</a> class provides access to directory structures and their contents. We create a list of the files (contained in the newly created <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qdir.html">QDir</a>) that match the specified file name. If the file name is empty the list will contain all the files in the directory.</p>
<p>Then we search through all the files in the list, using the private <tt>findFiles()</tt> function, eliminating the ones that don't contain the specified text. And finally, we display the results using the private <tt>showFiles()</tt> function.</p>
<p>If the user didn't specify any text, there is no reason to search through the files, and we display the results immediately.</p>
<p class="centerAlign"><img src="./Qt 4.7  Find Files Example_files/findfiles_progress_dialog.png" alt=""></p>
<pre class="cpp"> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstringlist.html">QStringList</a></span> Window<span class="operator">::</span>findFiles(<span class="keyword">const</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstringlist.html">QStringList</a></span> <span class="operator">&amp;</span>files<span class="operator">,</span> <span class="keyword">const</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstring.html">QString</a></span> <span class="operator">&amp;</span>text)
 {
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qprogressdialog.html">QProgressDialog</a></span> progressDialog(<span class="keyword">this</span>);
     progressDialog<span class="operator">.</span>setCancelButtonText(tr(<span class="string">"&amp;Cancel"</span>));
     progressDialog<span class="operator">.</span>setRange(<span class="number">0</span><span class="operator">,</span> files<span class="operator">.</span>size());
     progressDialog<span class="operator">.</span>setWindowTitle(tr(<span class="string">"Find Files"</span>));
</pre>
<p>In the private <tt>findFiles()</tt> function we search through a list of files, looking for the ones that contain a specified text. This can be a very slow operation depending on the number of files as well as their sizes. In case there are a large number of files, or there exists some large files on the list, we provide a <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qprogressdialog.html">QProgressDialog</a>.</p>
<p>The <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qprogressdialog.html">QProgressDialog</a> class provides feedback on the progress of a slow operation. It is used to give the user an indication of how long an operation is going to take, and to demonstrate that the application has not frozen. It can also give the user an opportunity to abort the operation.</p>
<pre class="cpp">     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstringlist.html">QStringList</a></span> foundFiles;

     <span class="keyword">for</span> (<span class="type">int</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> files<span class="operator">.</span>size(); <span class="operator">+</span><span class="operator">+</span>i) {
         progressDialog<span class="operator">.</span>setValue(i);
         progressDialog<span class="operator">.</span>setLabelText(tr(<span class="string">"Searching file number %1 of %2..."</span>)
                                     <span class="operator">.</span>arg(i)<span class="operator">.</span>arg(files<span class="operator">.</span>size()));
         qApp<span class="operator">-</span><span class="operator">&gt;</span>processEvents();
</pre>
<p>We run through the files, one at a time, and for each file we update the <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qprogressdialog.html">QProgressDialog</a> value. This property holds the current amount of progress made. We also update the progress dialog's label.</p>
<p>Then we call the <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qcoreapplication.html#processEvents">QCoreApplication::processEvents</a>() function using the <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qapplication.html">QApplication</a> object. In this way we interleave the display of the progress made with the process of searching through the files so the application doesn't appear to be frozen.</p>
<p>The <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qapplication.html">QApplication</a> class manages the GUI application's control flow and main settings. It contains the main event loop, where all events from the window system and other sources are processed and dispatched. <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qapplication.html">QApplication</a> inherits <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qcoreapplication.html">QCoreApplication</a>. The <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qcoreapplication.html#processEvents">QCoreApplication::processEvents</a>() function processes all pending events according to the specified QEventLoop::ProcessEventFlags until there are no more events to process. The default flags are <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qeventloop.html#ProcessEventsFlag-enum">QEventLoop::AllEvents</a>.</p>
<pre class="cpp">         <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qfile.html">QFile</a></span> file(currentDir<span class="operator">.</span>absoluteFilePath(files<span class="operator">[</span>i<span class="operator">]</span>));

         <span class="keyword">if</span> (file<span class="operator">.</span>open(<span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qiodevice.html">QIODevice</a></span><span class="operator">::</span>ReadOnly)) {
             <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstring.html">QString</a></span> line;
             <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtextstream.html">QTextStream</a></span> in(<span class="operator">&amp;</span>file);
             <span class="keyword">while</span> (<span class="operator">!</span>in<span class="operator">.</span>atEnd()) {
                 <span class="keyword">if</span> (progressDialog<span class="operator">.</span>wasCanceled())
                     <span class="keyword">break</span>;
                 line <span class="operator">=</span> in<span class="operator">.</span>readLine();
                 <span class="keyword">if</span> (line<span class="operator">.</span>contains(text)) {
                     foundFiles <span class="operator">&lt;</span><span class="operator">&lt;</span> files<span class="operator">[</span>i<span class="operator">]</span>;
                     <span class="keyword">break</span>;
                 }
             }
         }
     }
     <span class="keyword">return</span> foundFiles;
 }
</pre>
<p>After updating the <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qprogressdialog.html">QProgressDialog</a>, we create a <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qfile.html">QFile</a> using the <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qdir.html#absoluteFilePath">QDir::absoluteFilePath</a>() function which returns the absolute path name of a file in the directory. We open the file in read-only mode, and read one line at a time using <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtextstream.html">QTextStream</a>.</p>
<p>The <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtextstream.html">QTextStream</a> class provides a convenient interface for reading and writing text. Using <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtextstream.html">QTextStream</a>'s streaming operators, you can conveniently read and write words, lines and numbers.</p>
<p>For each line we read we check if the <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qprogressdialog.html">QProgressDialog</a> has been canceled. If it has, we abort the operation, otherwise we check if the line contains the specified text. When we find the text within one of the files, we add the file's name to a list of found files that contain the specified text, and start searching a new file.</p>
<p>Finally, we return the list of the files found.</p>
<pre class="cpp"> <span class="type">void</span> Window<span class="operator">::</span>showFiles(<span class="keyword">const</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstringlist.html">QStringList</a></span> <span class="operator">&amp;</span>files)
 {
     <span class="keyword">for</span> (<span class="type">int</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> files<span class="operator">.</span>size(); <span class="operator">+</span><span class="operator">+</span>i) {
         <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qfile.html">QFile</a></span> file(currentDir<span class="operator">.</span>absoluteFilePath(files<span class="operator">[</span>i<span class="operator">]</span>));
         <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtglobal.html#qint64-typedef">qint64</a></span> size <span class="operator">=</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qfileinfo.html">QFileInfo</a></span>(file)<span class="operator">.</span>size();

         <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtablewidgetitem.html">QTableWidgetItem</a></span> <span class="operator">*</span>fileNameItem <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtablewidgetitem.html">QTableWidgetItem</a></span>(files<span class="operator">[</span>i<span class="operator">]</span>);
         fileNameItem<span class="operator">-</span><span class="operator">&gt;</span>setFlags(fileNameItem<span class="operator">-</span><span class="operator">&gt;</span>flags() <span class="operator">^</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qt.html">Qt</a></span><span class="operator">::</span>ItemIsEditable);
         <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtablewidgetitem.html">QTableWidgetItem</a></span> <span class="operator">*</span>sizeItem <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtablewidgetitem.html">QTableWidgetItem</a></span>(tr(<span class="string">"%1 KB"</span>)
                                              <span class="operator">.</span>arg(<span class="type">int</span>((size <span class="operator">+</span> <span class="number">1023</span>) <span class="operator">/</span> <span class="number">1024</span>)));
         sizeItem<span class="operator">-</span><span class="operator">&gt;</span>setTextAlignment(<span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qt.html">Qt</a></span><span class="operator">::</span>AlignRight <span class="operator">|</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qt.html">Qt</a></span><span class="operator">::</span>AlignVCenter);
         sizeItem<span class="operator">-</span><span class="operator">&gt;</span>setFlags(sizeItem<span class="operator">-</span><span class="operator">&gt;</span>flags() <span class="operator">^</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qt.html">Qt</a></span><span class="operator">::</span>ItemIsEditable);

         <span class="type">int</span> row <span class="operator">=</span> filesTable<span class="operator">-</span><span class="operator">&gt;</span>rowCount();
         filesTable<span class="operator">-</span><span class="operator">&gt;</span>insertRow(row);
         filesTable<span class="operator">-</span><span class="operator">&gt;</span>setItem(row<span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> fileNameItem);
         filesTable<span class="operator">-</span><span class="operator">&gt;</span>setItem(row<span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> sizeItem);
     }
     filesFoundLabel<span class="operator">-</span><span class="operator">&gt;</span>setText(tr(<span class="string">"%1 file(s) found"</span>)<span class="operator">.</span>arg(files<span class="operator">.</span>size()) <span class="operator">+</span>
                              (<span class="string">" (Double click on a file to open it)"</span>));
 }
</pre>
<p>Both the <tt>findFiles()</tt> and <tt>showFiles()</tt> functions are called from the <tt>find()</tt> slot. In the <tt>showFiles()</tt> function we run through the provided list of file names, adding each file name to the first column in the table widget and retrieving the file's size using <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qfile.html">QFile</a> and <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qfileinfo.html">QFileInfo</a> for the second column.</p>
<p>We also update the total number of files found.</p>
<pre class="cpp"> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qpushbutton.html">QPushButton</a></span> <span class="operator">*</span>Window<span class="operator">::</span>createButton(<span class="keyword">const</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstring.html">QString</a></span> <span class="operator">&amp;</span>text<span class="operator">,</span> <span class="keyword">const</span> <span class="type">char</span> <span class="operator">*</span>member)
 {
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qpushbutton.html">QPushButton</a></span> <span class="operator">*</span>button <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qpushbutton.html">QPushButton</a></span>(text);
     connect(button<span class="operator">,</span> SIGNAL(clicked())<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> member);
     <span class="keyword">return</span> button;
 }
</pre>
<p>The private <tt>createButton()</tt> function is called from the constructor. We create a <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qpushbutton.html">QPushButton</a> with the provided text, connect it to the provided slot, and return a pointer to the button.</p>
<pre class="cpp"> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qcombobox.html">QComboBox</a></span> <span class="operator">*</span>Window<span class="operator">::</span>createComboBox(<span class="keyword">const</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstring.html">QString</a></span> <span class="operator">&amp;</span>text)
 {
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qcombobox.html">QComboBox</a></span> <span class="operator">*</span>comboBox <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qcombobox.html">QComboBox</a></span>;
     comboBox<span class="operator">-</span><span class="operator">&gt;</span>setEditable(<span class="keyword">true</span>);
     comboBox<span class="operator">-</span><span class="operator">&gt;</span>addItem(text);
     comboBox<span class="operator">-</span><span class="operator">&gt;</span>setSizePolicy(<span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qsizepolicy.html">QSizePolicy</a></span><span class="operator">::</span>Expanding<span class="operator">,</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qsizepolicy.html">QSizePolicy</a></span><span class="operator">::</span>Preferred);
     <span class="keyword">return</span> comboBox;
 }
</pre>
<p>The private <tt>createComboBox()</tt> function is also called from the contructor. We create a <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qcombobox.html">QComboBox</a> with the given text, and make it editable.</p>
<p>When the user enters a new string in an editable combobox, the widget may or may not insert it, and it can insert it in several locations, depending on the <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qcombobox.html#InsertPolicy-enum">QComboBox::InsertPolicy</a>. The default policy is is <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qcombobox.html#InsertPolicy-enum">QComboBox::InsertAtBottom</a>.</p>
<p>Then we add the provided text to the combobox, and specify the widget's size policies, before we return a pointer to the combobox.</p>
<pre class="cpp"> <span class="type">void</span> Window<span class="operator">::</span>createFilesTable()
 {
     filesTable <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtablewidget.html">QTableWidget</a></span>(<span class="number">0</span><span class="operator">,</span> <span class="number">2</span>);
     filesTable<span class="operator">-</span><span class="operator">&gt;</span>setSelectionBehavior(<span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qabstractitemview.html">QAbstractItemView</a></span><span class="operator">::</span>SelectRows);

     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qstringlist.html">QStringList</a></span> labels;
     labels <span class="operator">&lt;</span><span class="operator">&lt;</span> tr(<span class="string">"File Name"</span>) <span class="operator">&lt;</span><span class="operator">&lt;</span> tr(<span class="string">"Size"</span>);
     filesTable<span class="operator">-</span><span class="operator">&gt;</span>setHorizontalHeaderLabels(labels);
     filesTable<span class="operator">-</span><span class="operator">&gt;</span>horizontalHeader()<span class="operator">-</span><span class="operator">&gt;</span>setResizeMode(<span class="number">0</span><span class="operator">,</span> <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qheaderview.html">QHeaderView</a></span><span class="operator">::</span>Stretch);
     filesTable<span class="operator">-</span><span class="operator">&gt;</span>verticalHeader()<span class="operator">-</span><span class="operator">&gt;</span>hide();
     filesTable<span class="operator">-</span><span class="operator">&gt;</span>setShowGrid(<span class="keyword">false</span>);

     connect(filesTable<span class="operator">,</span> SIGNAL(cellActivated(<span class="type">int</span><span class="operator">,</span><span class="type">int</span>))<span class="operator">,</span>
             <span class="keyword">this</span><span class="operator">,</span> SLOT(openFileOfItem(<span class="type">int</span><span class="operator">,</span><span class="type">int</span>)));
 }
</pre>
<p>The private <tt>createFilesTable()</tt> function is called from the constructor. In this function we create the <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtablewidget.html">QTableWidget</a> that will display the search results. We set its horizontal headers and their resize mode.</p>
<p><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtablewidget.html">QTableWidget</a> inherits <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtableview.html">QTableView</a> which provides a default model/view implementation of a table view. The <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtableview.html#horizontalHeader">QTableView::horizontalHeader</a>() function returns the table view's horizontal header as a <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qheaderview.html">QHeaderView</a>. The <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qheaderview.html">QHeaderView</a> class provides a header row or header column for item views, and the <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qheaderview.html#setResizeMode">QHeaderView::setResizeMode</a>() function sets the constraints on how the section in the header can be resized.</p>
<p>Finally, we hide the <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtablewidget.html">QTableWidget</a>'s vertical headers using the <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qwidget.html#hide">QWidget::hide</a>() function, and remove the default grid drawn for the table using the <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtableview.html#showGrid-prop">QTableView::setShowGrid</a>() function.</p>
<pre class="cpp"> <span class="type">void</span> Window<span class="operator">::</span>openFileOfItem(<span class="type">int</span> row<span class="operator">,</span> <span class="type">int</span> <span class="comment">/* column */</span>)
 {
     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qtablewidgetitem.html">QTableWidgetItem</a></span> <span class="operator">*</span>item <span class="operator">=</span> filesTable<span class="operator">-</span><span class="operator">&gt;</span>item(row<span class="operator">,</span> <span class="number">0</span>);

     <span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qdesktopservices.html">QDesktopServices</a></span><span class="operator">::</span>openUrl(<span class="type"><a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qurl.html">QUrl</a></span><span class="operator">::</span>fromLocalFile(currentDir<span class="operator">.</span>absoluteFilePath(item<span class="operator">-</span><span class="operator">&gt;</span>text())));
 }
</pre>
<p>The <tt>openFileOfItem()</tt> slot is invoked when the user double clicks on a cell in the table. The <a href="http://harmattan-dev.nokia.com/docs/library/html/qt4/qdesktopservices.html#openUrl">QDesktopServices::openUrl</a>() knows how to open a file given the file name.</p>
</div>
<!-- @@@dialogs/findfiles -->
<div class="ft"></div>
</div>
<div class="footer">
<p><acronym title="Copyright">©</acronym> 2008-2011 Nokia Corporation and/or its subsidiaries. Nokia, Qt and their respective logos are trademarks of Nokia Corporation in Finland and/or other countries worldwide.</p>
<p>All other trademarks are property of their respective owners. <a title="Privacy Policy" href="http://qt.nokia.com/about/privacy-policy" target="_blank">Privacy Policy</a></p>
<br>
<p>Licensees holding valid Qt Commercial licenses may use this document in accordance with the Qt Commercial License Agreement provided with the Software or, alternatively, in accordance with the terms contained in a written agreement between you and Nokia.</p>
<p>Alternatively, this document may be used under the terms of the <a href="http://www.gnu.org/licenses/fdl.html" target="_blank">GNU Free Documentation License version 1.3</a> as published by the Free Software Foundation.</p>
</div>
</div>
</div>


<ul class="ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all" role="listbox" aria-activedescendant="ui-active-menuitem" style="z-index: 11; top: 0px; left: 0px; display: none;"></ul><div id="tooltip" style="display: none; left: 567px; right: auto; top: 117px;"><h3 style="">Search</h3><div class="body" style="display: none;"></div><div class="url" style="display: none;"></div></div></body></html>