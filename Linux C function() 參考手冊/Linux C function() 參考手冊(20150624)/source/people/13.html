<html>
<head>
<title>Untitled Document</title>
</head>
<body>
<table width="100%">
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc242></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      alarm（設置信號傳送鬧鐘） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> signal，sleep<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> unsigned int alarm(unsigned int seconds);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> alarm()用來設置信號SIGALRM在經過參數seconds指定的秒數後傳送給目前的進程。如果參數seconds 
      為0，則之前設置的鬧鍾會被取消，並將剩下的時間返回。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 返回之前鬧鐘的剩餘秒數，如果之前未設鬧鐘則返回0。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
      #include&lt;signal.h&gt;<br>
      void handler() {<br>
      printf(“hello\n”);<br>
      }<br>
      main()<br>
      {<br>
      int i;<br>
      signal(SIGALRM,handler);<br>
      alarm(5);<br>
      for(i=1;i&lt;7;i++){<br>
      printf(“sleep %d ...\n”,i);<br>
      sleep(1);<br>
      }<br>
      }<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> sleep 1 ...<br>
      sleep 2 ...<br>
      sleep 3 ...<br>
      sleep 4 ...<br>
      sleep 5 ...<br>
      hello<br>
      sleep 6 ...<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc243></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      kill（傳送信號給指定的進程） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> raise，signal<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;sys/types.h&gt;<br>
      #include&lt;signal.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> int kill(pid_t pid,int sig);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> kill()可以用來送參數sig指定的信號給參數pid指定的進程。參數pid有幾種情況:<br>
      pid&gt;0 將信號傳給進程識別碼為pid 的進程。<br>
      pid=0 將信號傳給和目前進程相同進程組的所有進程<br>
      pid=-1 將信號廣播傳送給系統內所有的進程<br>
      pid&lt;0 將信號傳給進程組識別碼為pid絕對值的所有進程<br>
      參數sig代表的信號編號可參考附錄D<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 執行成功則返回0，如果有錯誤則返回-1。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> EINVAL 參數sig 不合法<br>
      ESRCH 參數pid 所指定的進程或進程組不存在<br>
      EPERM 權限不夠無法傳送信號給指定進程<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
      #include&lt;signal.h&gt;<br>
      #include&lt;sys/types.h&gt;<br>
      #include&lt;sys/wait.h&gt;<br>
      main()<br>
      {<br>
      pid_t pid;<br>
      int status;<br>
      if(!(pid= fork())){<br>
      printf(“Hi I am child process!\n”);<br>
      sleep(10);<br>
      return;<br>
      }<br>
      else{<br>
      printf(“send signal to child process (%d) \n”,pid);<br>
      sleep(1);<br>
      kill(pid ,SIGABRT);<br>
      wait(&status);<br>
      if(WIFSIGNALED(status))<br>
      printf(“chile process receive signal %d\n”,WTERMSIG(status));<br>
      }<br>
      }<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> sen signal to child process(3170)<br>
      Hi I am child process!<br>
      child process receive signal 6<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc244></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      pause（讓進程暫停直到信號出現） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> kill，signal，sleep<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> int pause(void);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> pause()會令目前的進程暫停（進入睡眠狀態），直到被信號(signal)所中斷。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 只返回-1。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> EINTR 有信號到達中斷了此函數。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc245></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      sigaction（查詢或設置信號處理方式） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> signal，sigprocmask，sigpending，sigsuspend<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;signal.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> int sigaction(int signum,const struct sigaction 
      *act ,struct sigaction *oldact);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> sigaction()會依參數signum指定的信號編號來設置該信號的處理函數。參數signum可以指定SIGKILL和SIGSTOP以外的所有信號。<br>
      如參數結構sigaction定義如下<br>
      struct sigaction<br>
      {<br>
      void (*sa_handler) (int);<br>
      sigset_t sa_mask;<br>
      int sa_flags;<br>
      void (*sa_restorer) (void);<br>
      }<br>
      sa_handler此參數和signal()的參數handler相同，代表新的信號處理函數，其他意義請參考signal()。<br>
      sa_mask 用來設置在處理該信號時暫時將sa_mask 指定的信號擱置。<br>
      sa_restorer 此參數沒有使用。<br>
      sa_flags 用來設置信號處理的其他相關操作，下列的數值可用。<br>
      OR 運算（|）組合<br>
      A_NOCLDSTOP : 如果參數signum為SIGCHLD，則當子進程暫停時並不會通知父進程<br>
      SA_ONESHOT/SA_RESETHAND:當調用新的信號處理函數前，將此信號處理方式改為系統預設的方式。<br>
      SA_RESTART:被信號中斷的系統調用會自行重啟<br>
      SA_NOMASK/SA_NODEFER:在處理此信號未結束前不理會此信號的再次到來。<br>
      如果參數oldact不是NULL指針，則原來的信號處理方式會由此結構sigaction 返回。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 執行成功則返回0，如果有錯誤則返回-1。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> EINVAL 參數signum 不合法， 或是企圖攔截SIGKILL/SIGSTOPSIGKILL信號<br>
      EFAULT 參數act，oldact指針地址無法存取。<br>
      EINTR 此調用被中斷<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
      #include&lt;signal.h&gt;<br>
      void show_handler(struct sigaction * act)<br>
      {<br>
      switch (act-&gt;sa_flags)<br>
      {<br>
      case SIG_DFL:printf(“Default action\n”);break;<br>
      case SIG_IGN:printf(“Ignore the signal\n”);break;<br>
      default: printf(“0x%x\n”,act-&gt;sa_handler);<br>
      }<br>
      }<br>
      main()<br>
      {<br>
      int i;<br>
      struct sigaction act,oldact;<br>
      act.sa_handler = show_handler;<br>
      act.sa_flags = SA_ONESHOT|SA_NOMASK;<br>
      sigaction(SIGUSR1,&act,&oldact);<br>
      for(i=5;i&lt;15;i++)<br>
      {<br>
      printf(“sa_handler of signal %2d =”.i);<br>
      sigaction(i,NULL,&oldact);<br>
      }<br>
      }<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> sa_handler of signal 5 = Default action<br>
      sa_handler of signal 6= Default action<br>
      sa_handler of signal 7 = Default action<br>
      sa_handler of signal 8 = Default action<br>
      sa_handler of signal 9 = Default action<br>
      sa_handler of signal 10 = 0x8048400<br>
      sa_handler of signal 11 = Default action<br>
      sa_handler of signal 12 = Default action<br>
      sa_handler of signal 13 = Default action<br>
      sa_handler of signal 14 = Default action<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc246></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      sigaddset（增加一個信號至信號集） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> sigemptyset，sigfillset，sigdelset，sigismember<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;signal.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> int sigaddset(sigset_t *set,int signum);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> sigaddset()用來將參數signum 代表的信號加入至參數set 信號集裡。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 執行成功則返回0，如果有錯誤則返回-1。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> EFAULT 參數set指針地址無法存取<br>
      EINVAL 參數signum非合法的信號編號<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc247></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      sigdelset（從信號集裡刪除一個信號） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> sigemptyset，sigfillset，sigaddset，sigismember<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;signal.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> int sigdelset(sigset_t * set,int signum);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> sigdelset()用來將參數signum代表的信號從參數set信號集裡刪除。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 執行成功則返回0，如果有錯誤則返回-1。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> EFAULT 參數set指針地址無法存取<br>
      EINVAL 參數signum非合法的信號編號<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc248></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      sigemptyset（初始化信號集） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> sigaddset，sigfillset，sigdelset，sigismember<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;signal.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> int sigemptyset(sigset_t *set);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> sigemptyset()用來將參數set信號集初始化並清空。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 執行成功則返回0，如果有錯誤則返回-1。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> EFAULT 參數set指針地址無法存取<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc249></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      sigfillset（將所有信號加入至信號集） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> sigempty，sigaddset，sigdelset，sigismember<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;signal.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> int sigfillset(sigset_t * set);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> sigfillset()用來將參數set信號集初始化，然後把所有的信號加入到此信號集裡。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 執行成功則返回0，如果有錯誤則返回-1。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 附加說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> EFAULT 參數set指針地址無法存取<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc250></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      sigismember（測試某個信號是否已加入至信號集裡） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> sigemptyset，sigfillset，sigaddset，sigdelset<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;signal.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> int sigismember(const sigset_t *set,int signum);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> sigismember()用來測試參數signum 代表的信號是否已加入至參數set信號集裡。如果信號集裡已有該信號則返回1，否則返回0。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 信號集已有該信號則返回1，沒有則返回0。如果有錯誤則返回-1。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> EFAULT 參數set指針地址無法存取<br>
      EINVAL 參數signum 非合法的信號編號<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc251></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      signal（設置信號處理方式） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> sigaction，kill，raise<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;signal.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> void (*signal(int signum,void(* handler)(int)))(int);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> signal()會依參數signum 指定的信號編號來設置該信號的處理函數。當指定的信號到達時就會跳轉到參數handler指定的函數執行。如果參數handler不是函數指針，則必須是下列兩個常數之一:<br>
      SIG_IGN 忽略參數signum指定的信號。<br>
      SIG_DFL 將參數signum 指定的信號重設為核心預設的信號處理方式。<br>
      關於信號的編號和說明，請參考附錄D<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 返回先前的信號處理函數指針，如果有錯誤則返回SIG_ERR(-1)。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 附加說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 在信號發生跳轉到自定的handler處理函數執行後，系統會自動將此處理函數換回原來系統預設的處理方式，如果要改變此操作請改用sigaction()。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 參考alarm()或raise()。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc252></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      sigpending（查詢被擱置的信號） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> signal，sigaction，sigprocmask，sigsuspend<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;signal.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> int sigpending(sigset_t *set);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> sigpending()會將被擱置的信號集合由參數set指針返回。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值執 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 行成功則返回0，如果有錯誤則返回-1。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> EFAULT 參數set指針地址無法存取<br>
      EINTR 此調用被中斷。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc253></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      sigprocmask（查詢或設置信號遮罩） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> signal，sigaction，sigpending，sigsuspend<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;signal.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> int sigprocmask(int how,const sigset_t *set,sigset_t 
      * oldset);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> sigprocmask()可以用來改變目前的信號遮罩，其操作依參數how來決定<br>
      SIG_BLOCK 新的信號遮罩由目前的信號遮罩和參數set 指定的信號遮罩作聯集<br>
      SIG_UNBLOCK 將目前的信號遮罩刪除掉參數set指定的信號遮罩<br>
      SIG_SETMASK 將目前的信號遮罩設成參數set指定的信號遮罩。<br>
      如果參數oldset不是NULL指針，那麼目前的信號遮罩會由此指針返回。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 執行成功則返回0，如果有錯誤則返回-1。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> EFAULT 參數set，oldset指針地址無法存取。<br>
      EINTR 此調用被中斷<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc254></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      sleep（讓進程暫停執行一段時間） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> signal，alarm<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> unsigned int sleep(unsigned int seconds);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> sleep()會令目前的進程暫停，直到達到參數seconds 所指定的時間，或是被信號所中斷。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 若進程暫停到參數seconds 所指定的時間則返回0，若有信號中斷則返回剩餘秒數。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc255></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      ferror（檢查文件流是否有錯誤發生） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> clearerr，perror<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;stdio.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> int ferror(FILE *stream);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> ferror()用來檢查參數stream所指定的文件流是否發生了錯誤情況，如有錯誤發生則返回非0值。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 如果文件流有錯誤發生則返回非0值。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc256></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      perror（打印出錯誤原因信息字符串） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> strerror<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;stdio.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> void perror(const char *s);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> perror()用來將上一個函數發生錯誤的原因輸出到標準錯誤(stderr)。參數s所指的字符串會先打印出，後面再加上錯誤原因字符串。此錯誤原因依照全局變量errno的值來決定要輸出的字符串。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;stdio.h&gt;<br>
      main()<br>
      {<br>
      FILE *fp;<br>
      fp = fopen(“/tmp/noexist”,”r+”);<br>
      if(fp = =NULL) perror(“fopen”);<br>
      }<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> $ ./perror<br>
      fopen : No such file or diretory<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc257></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      strerror（返回錯誤原因的描述字符串） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> perror<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;string.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> char * strerror(int errnum);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> strerror()用來依參數errnum的錯誤代碼來查詢其錯誤原因的描述字符串，然後將該字符串指針返回。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 返回描述錯誤原因的字符串指針。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> /* 顯示錯誤代碼0 至9 的錯誤原因描述*/<br>
      #include&lt;string.h&gt;<br>
      main()<br>
      {<br>
      int i;<br>
      for(i=0;i&lt;10;i++)<br>
      printf(“%d : %s\n”,i,strerror(i));<br>
      }<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 0 : Success<br>
      1 : Operation not permitted<br>
      2 : No such file or directory<br>
      3 : No such process<br>
      4 : Interrupted system call<br>
      5 : Input/output error<br>
      6 : Device not configured<br>
      7 : Argument list too long<br>
      8 : Exec format error<br>
      9 : Bad file descriptor<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc258></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      mkfifo（建立具名管道） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> pipe，popen，open，umask<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;sys/types.h&gt;<br>
      #include&lt;sys/stat.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> int mkfifo(const char * pathname,mode_t mode);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> mkfifo()會依參數pathname建立特殊的FIFO文件，該文件必須不存在，而參數mode為該文件的權限（mode%~umask），因此umask值也會影響到FIFO文件的權限。Mkfifo()建立的FIFO文件其他進程都可以用讀寫一般文件的方式存取。當使用open()來打開FIFO文件時，O_NONBLOCK旗標會有影響<br>
      1、當使用O_NONBLOCK 旗標時，打開FIFO 文件來讀取的操作會立刻返回，但是若還沒有其他進程打開FIFO 文件來讀取，則寫入的操作會返回ENXIO 
      錯誤代碼。<br>
      2、沒有使用O_NONBLOCK 旗標時，打開FIFO 來讀取的操作會等到其他進程打開FIFO文件來寫入才正常返回。同樣地，打開FIFO文件來寫入的操作會等到其他進程打開FIFO 
      文件來讀取後才正常返回。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 若成功則返回0，否則返回-1，錯誤原因存於errno中。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> EACCESS 參數pathname所指定的目錄路徑無可執行的權限<br>
      EEXIST 參數pathname所指定的文件已存在。<br>
      ENAMETOOLONG 參數pathname的路徑名稱太長。<br>
      ENOENT 參數pathname包含的目錄不存在<br>
      ENOSPC 文件系統的剩餘空間不足<br>
      ENOTDIR 參數pathname路徑中的目錄存在但卻非真正的目錄。<br>
      EROFS 參數pathname指定的文件存在於只讀文件系統內。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;sys/types.h&gt;<br>
      #include&lt;sys/stat.h&gt;<br>
      #include&lt;fcntl.h&gt;<br>
      main()<br>
      {<br>
      char buffer[80];<br>
      int fd;<br>
      unlink(FIFO);<br>
      mkfifo(FIFO,0666);<br>
      if(fork()&gt;0){<br>
      char s[ ] = “hello!\n”;<br>
      fd = open (FIFO,O_WRONLY);<br>
      write(fd,s,sizeof(s));<br>
      close(fd);<br>
      }<br>
      else{<br>
      fd= open(FIFO,O_RDONLY);<br>
      read(fd,buffer,80);<br>
      printf(“%s”,buffer);<br>
      close(fd);<br>
      }<br>
      }<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> hello!<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc259></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      pclose（關閉管道I/O） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> popen<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;stdio.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> int pclose(FILE * stream);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> pclose()用來關閉由popen所建立的管道及文件指針。參數stream為先前由popen()所返回的文件指針。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 返回子進程的結束狀態。如果有錯誤則返回-1，錯誤原因存於errno中。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> ECHILD pclose()無法取得子進程的結束狀態。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 參考popen()。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc260></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      pipe（建立管道） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> mkfifo，popen，read，write，fork<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> int pipe(int filedes[2]);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> pipe()會建立管道，並將文件描述詞由參數filedes數組返回。filedes[0]為管道裡的讀取端，filedes[1]則為管道的寫入端。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 若成功則返回零，否則返回-1，錯誤原因存於errno中。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> EMFILE 進程已用完文件描述詞最大量。<br>
      ENFILE 系統已無文件描述詞可用。<br>
      EFAULT 參數filedes數組地址不合法。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> /* 父進程借管道將字符串“hello!\n”傳給子進程並顯示*/<br>
      #include &lt;unistd.h&gt;<br>
      main()<br>
      {<br>
      int filedes[2];<br>
      char buffer[80];<br>
      pipe(filedes);<br>
      if(fork()&gt;0){<br>
      /* 父進程*/<br>
      char s[ ] = “hello!\n”;<br>
      write(filedes[1],s,sizeof(s));<br>
      }<br>
      else{<br>
      /*子進程*/<br>
      read(filedes[0],buffer,80);<br>
      printf(“%s”,buffer);<br>
      }<br>
      }<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> hello!<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc261></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> <font face='宋體' size='2'> <br>
      popen（建立管道I/O） </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> pipe，mkfifo，pclose，fork，system，fopen<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;stdio.h&gt;<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> FILE * popen( const char * command,const char 
      * type);<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> popen()會調用fork()產生子進程，然後從子進程中調用/bin/sh -c來執行參數command的指令。參數type可使用“r”代表讀取，“w”代表寫入。依照此type值，popen()會建立管道連到子進程的標準輸出設備或標準輸入設備，然後返回一個文件指針。隨後進程便可利用此文件指針來讀取子進程的輸出設備或是寫入到子進程的標準輸入設備中。此外，所有使用文件指針(FILE*)操作的函數也都可以使用，除了fclose()以外。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 若成功則返迴文件指針，否則返回NULL，錯誤原因存於errno中。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> EINVAL參數type不合法。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 注意事項 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> 在編寫具SUID/SGID權限的程序時請儘量避免使用popen()，popen()會繼承環境變量，通過環境變量可能會造成系統安全的問題。<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> #include&lt;stdio.h&gt;<br>
      main()<br>
      {<br>
      FILE * fp;<br>
      char buffer[80];<br>
      fp=popen(“cat /etc/passwd”,”r”);<br>
      fgets(buffer,sizeof(buffer),fp);<br>
      printf(“%s”,buffer);<br>
      pclose(fp);<br>
      }<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> <font face='宋體' size='2'> root :x:0 0: root: /root: /bin/bash<br>
      </font> </td>
  </tr>
  <tr> 
    <td width="80" valign="top">　 
      <div align="right"><br>
      </div>
    </td>
  </tr>
</table>
</body>
</html>
