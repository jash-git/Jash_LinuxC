<html>
<head>
<title>Untitled Document</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
</head>

<body>
<table width="100%">
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc90></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        endgrent（關閉組文件） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getgrent，setgrent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;grp.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> void endgrent(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> endgrent()用來關閉由getgrent()所打開的密碼文件。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 附加說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 請參考getgrent()與setgrent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc91></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        endpwent（關閉密碼文件） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getpwent，setpwent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> void endpwent(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> endpwent()用來關閉由getpwent()所打開的密碼文件。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 附加說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 請參考getpwent()與setpwent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc92></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        endutent（關閉utmp 文件） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getutent，setutent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;utmp.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> void endutent(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> endutent()用來關閉由getutent所打開的utmp文件。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 附加說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 請參考getutent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc93></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        fgetgrent（從指定的文件來讀取組格式） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> fgetpwent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;grp.h&gt;<br>
        #include&lt;stdio.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> struct group * getgrent(FILE 
        * stream);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> fgetgrent()會從參數stream指定的文件讀取一行數據，然後以group結構將該數據返回。參數stream所指定的文件必須和、etc/group相同的格式。group結構定義請參考getgrent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 返回group結構數據，如果返回NULL則表示已無數據，或有錯誤發生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include &lt;grp.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        #include&lt;stdio.h&gt;<br>
        main()<br>
        {<br>
        struct group *data;<br>
        FILE *stream;<br>
        int i;<br>
        stream = fopen("/etc/group", "r");<br>
        while((data = fgetgrent(stream))!=0){<br>
        i=0;<br>
        printf("%s :%s:%d :", data-&gt;gr_name,data-&gt;gr_passwd,data-&gt;gr_gid);<br>
        while (data-&gt;gr_mem[i])printf("%s,",data-&gt;gr_mem[i++]);<br>
        printf("\n");<br>
        }<br>
        fclose(stream);<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> root:x:0:root,<br>
        bin:x:1:root,bin,daemon<br>
        daemon:x:2:root,bin,daemon<br>
        sys:x:3:root,bin,adm<br>
        adm:x:4:root,adm,daemon<br>
        tty:x:5<br>
        disk:x:6:root<br>
        lp:x:7:daemon,lp<br>
        mem:x:8<br>
        kmem:x:9<br>
        wheel:x:10:root<br>
        mail:x:12:mail<br>
        news:x:13:news<br>
        uucp:x:14:uucp<br>
        man:x:15<br>
        games:x:20<br>
        gopher:x:30<br>
        dip:x:40:<br>
        ftp:x:50<br>
        nobody:x:99:<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc94></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        fgetpwent（從指定的文件來讀取密碼格式） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> fgetgrent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;stdio.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> struct passwd * fgetpwent(FILE 
        *stream);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> fgetpwent()會從參數stream指定的文件讀取一行數據，然後以passwd結構將該數據返回。參數stream所指定的文件必須和/etc/passwd相同的格式。passwd結構定義請參考getpwent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 返回passwd結構數據，如果返回NULL則表示已無數據，或有錯誤發生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        struct passwd *user;<br>
        FILE *stream;<br>
        stream = fopen("/etc/passwd", "r");<br>
        while((user = fgetpwent(stream))!=0){<br>
        printf("%s:%d:%d:%s:%s:%s\n",user-&gt;pw_name,user-&gt;pw_uid,user-&gt;pw_gid,user-&gt;pw_gecos,user-&gt;pw_dir,user-&gt;pw_shell);<br>
        }<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> root:0:0:root:/root:/bin/bash<br>
        bin:1:1:bin:/bin:<br>
        daemon:2:2:daemon:/sbin:<br>
        adm:3:4:adm:/var/adm:<br>
        lp:4:7:lp:/var/spool/lpd:<br>
        sync:5:0:sync:/sbin:/bin/sync<br>
        shutdown:6:0:shutdown:/sbin:/sbin/shutdown<br>
        halt:7:0:halt:/sbin:/sbin/halt<br>
        mail:8:12:mail:/var/spool/mail:<br>
        news:9:13:news:var/spool/news<br>
        uucp:10:14:uucp:/var/spool/uucp:<br>
        operator:11:0:operator :/root:<br>
        games:12:100:games:/usr/games:<br>
        gopher:13:30:gopher:/usr/lib/gopher-data:<br>
        ftp:14:50:FTP User:/home/ftp:<br>
        nobody:99:99:Nobody:/:<br>
        xfs:100:101:X Font Server: /etc/Xll/fs:/bin/false<br>
        gdm:42:42:/home/gdm:/bin/bash<br>
        kids:500:500: : /home/kids:/bin/bash<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc95></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        getegid（取得有效的組識別碼） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getgid，setgid，setregid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> gid_t getegid(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getegid()用來取得執行目前進程有效組識別碼。有效的組識別碼用來決定進程執行時組的權限。返回值返回有效的組識別碼。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> main()<br>
        { <br>
        printf("egid is %d\n",getegid());<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> egid is 0 /*當使用root身份執行範例程序時*/<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc96></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        geteuid（取得有效的用戶識別碼） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getuid，setreuid，setuid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> uid_t geteuid(void)<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> geteuid()用來取得執行目前進程有效的用戶識別碼。有效的用戶識別碼用來決定進程執行的權限，借由此改變此值，進程可以獲得額外的權限。倘若執行文件的setID位已被設置，該文件執行時，其進程的euid值便會設成該文件所有者的uid。例如，執行文件/usr/bin/passwd的權限為-r-s--x--x，其s 
        位即為setID(SUID)位，而當任何用戶在執行passwd 時其有效的用戶識別碼會被設成passwd 所有者的uid 值，即root的uid 
        值(0)。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 返回有效的用戶識別碼。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> main()<br>
        { <br>
        printf ("euid is %d \n",geteuid());<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> euid is 0 /*當使用root身份執行範例程序時*/<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc97></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        getgid（取得真實的組識別碼） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getegid，setregid，setgid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> gid_t getgid(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getgid()用來取得執行目前進程的組識別碼。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 返回組識別碼<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> main()<br>
        {<br>
        printf(“gid is %d\n”,getgid());<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> gid is 0 /*當使用root身份執行範例程序時*/<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc98></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        getgrent（從組文件中取得賬號的數據） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> setgrent，endgrent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;grp.h&gt;<br>
        #include &lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> struct group *getgrent(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getgrent()用來從組文件(/etc/group)中讀取一項組數據，該數據以group 
        結構返回。第一次調用時會取得第一項組數據，之後每調用一次就會返回下一項數據，直到已無任何數據時返回NULL。<br>
        struct group{<br>
        char *gr_name; /*組名稱*/<br>
        char *gr_passwd; /* 組密碼*/<br>
        gid_t gr_gid; /*組識別碼*/<br>
        char **gr_mem; /*組成員賬號*/<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 返回group結構數據，如果返回NULL則表示已無數據，或有錯誤發生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 附加說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getgrent()在第一次調用時會打開組文件，讀取數據完畢後可使用endgrent()來關閉該組文件。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> ENOMEM 內存不足，無法配置group結構。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;grp.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        struct group *data;<br>
        int i;<br>
        while((data= getgrent())!=0){<br>
        i=0;<br>
        printf(“%s:%s:%d:”,data-&gt;gr_name,data-&gt;gr_passwd,data-&gt;gr_gid);<br>
        while(data-&gt;gr_mem[i])printf(“%s,”,data-&gt;gr_mem[i++]);<br>
        printf(“\n”);<br>
        }<br>
        endgrent();<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> root:x:0:root,<br>
        bin:x:1:root,bin,daemon,<br>
        daemon:x:2:root,bin,daemon,<br>
        sys:x:3:root,bin,adm,<br>
        adm:x:4:root,adm,daemon<br>
        tty:x:5<br>
        disk:x:6:root<br>
        lp:x:7:daemon,lp<br>
        mem:x:8<br>
        kmem:x:9:<br>
        wheel:x:10:root<br>
        mail:x:12:mail<br>
        news:x:13:news<br>
        uucp:x:14:uucp<br>
        man:x:15:<br>
        games:x:20<br>
        gopher:x:30<br>
        dip:x:40<br>
        ftp:x:50<br>
        nobody:x:99<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc99></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        getgrgid（從組文件中取得指定gid 的數據） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> fgetgrent，getgrent，getgrnam<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;grp.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> strcut group * getgrgid(gid_t 
        gid);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getgrgid（）用來依參數gid指定的組識別碼逐一搜索組文件，找到時便將該組的數據以group結構返回。group結構請參考getgrent（）。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 返回group結構數據，如果返回NULL則表示已無數據，或有錯誤發生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> /* 取得gid＝3的組數據*/<br>
        #include&lt;grp.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        strcut group *data;<br>
        int i=0;<br>
        data = getgrgid(3);<br>
        printf(“%s:%s:%d:”,data-&gt;gr_name,data-&gt;gr_passwd,data-&gt;gr_gid);<br>
        while(data-&gt;gr_mem[i])printf(“%s ,”,data-&gt;mem[i++]);<br>
        printf(“\n”);<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> sys:x:3:root,bin,adm<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc100></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        getgrnam（從組文件中取得指定組的數據） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> fgetgrent，getrent，getgruid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;grp.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> strcut group * getgrnam(const 
        char * name);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getgrnam（）用來逐一搜索參數那麼指定的組名稱，找到時便將該組的數據以group結構返回。group 
        結構請參考getgrent（）。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 返回group結構數據，如果返回NULL則表示已無數據，或有錯誤發生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> /* 取得adm的組數據*/<br>
        #include&lt;grp.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        strcut group * data;<br>
        int i=0;<br>
        data = getgrnam(“adm”);<br>
        printf(“%s:%s:%d:”,data-&gt;gr_name,data-&gt;gr_passwd,data-&gt;gr_gid);<br>
        while(data-&gt;gr_mem[i])printf(“%s,”,data-&gt;gr_mem[i++]);<br>
        printf(“\n”);<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> adm:x:4:root,adm,daemon<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc101></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        getgroups（取得組代碼） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> initgroups，setgroup，getgid，setgid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> int getgroups(int size,gid_t 
        list[]);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getgroup（）用來取得目前用戶所屬的組代碼。參數size為list〔〕所能容納的gid_t 
        數目。如果參數size 值為零，此函數僅會返回用戶所屬的組數。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 返回組識別碼，如有錯誤則返回-1。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> EFAULT 參數list數組地址不合法。EINVAL 
        參數size值不足以容納所有的組。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        gid_t list[500];<br>
        int x,i;<br>
        x = getgroups(0.list);<br>
        getgroups(x,list);<br>
        for(i=0;i&lt;x;i++)<br>
        printf(“%d:%d\n”,i,list[i]);<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 0:00<br>
        1:01<br>
        2:02<br>
        3:03<br>
        4:04<br>
        5:06<br>
        6:10<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc102></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        getpw（取得指定用戶的密碼文件數據） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getpwent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> int getpw(uid_t uid,char *buf);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getpw()會從/etc/passwd中查找符合參數uid所指定的用戶賬號數據，找不到相關數據就返回-1。所返回的buf字符串格式如下:賬號:密碼:用戶識別碼(uid):組識別碼(gid):全名:根目錄:shell<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 返回0表示成功，有錯誤發生時返回-1。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 附加說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 1. getpw()會有潛在的安全性問題，請儘量使用別的函數取代。<br>
        2. 使用shadow的系統已把用戶密碼抽出/etc/passwd，因此使用getpw()取得的密碼將為“x”。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        char buffer[80];<br>
        getpw(0,buffer);<br>
        printf(“%s\n”,buffer);<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> root:x:0:0:root:/root:/bin/bash<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc103></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        getpwent（從密碼文件中取得賬號的數據） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getpw，fgetpwent，getpwnam，getpwuid，setpwent，endpwent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> strcut passwd * getpwent(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getpwent（）用來從密碼文件（/etc/passwd）中讀取一項用戶數據，該用戶的數據以passwd 
        結構返回。第一次調用時會取得第一位用戶數據，之後每調用一次就會返回下一項數據，直到已無任何數據時返回NULL。<br>
        passwd 結構定義如下<br>
        struct passwd{<br>
        char * pw_name; /*用戶賬號*/<br>
        char * pw_passwd; /*用戶密碼*/<br>
        uid_t pw_uid; /*用戶識別碼*/<br>
        gid_t pw_gid; /*組識別碼*/<br>
        char * pw_gecos; /*用戶全名*/<br>
        char * pw_dir; /*家目錄*/<br>
        char * pw_shell; /* 所使用的shell路徑*/<br>
        };<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 返回passwd 結構數據，如果返回NULL 則表示已無數據，或有錯誤發生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 附加說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getpwent()在第一次調用時會打開密碼文件，讀取數據完畢後可使用endpwent()來關閉該密碼文件。錯誤代碼ENOMEM 
        內存不足，無法配置passwd結構。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        struct passwd *user;<br>
        while((user = getpwent())!=0){<br>
        printf(“%s:%d:%d:%s:%s:%s\n”,user-&gt;pw_name,user-&gt;pw_uid,user-&gt;pw_gid,<br>
        user-&gt;pw_gecos,user-&gt;pw_dir,user-&gt;pw_shell);<br>
        }<br>
        endpwent();<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> root:0:0:root:/root:/bin/bash<br>
        bin:1:1:bin:/bin:<br>
        daemon:2:2:daemon:/sbin:<br>
        adm:3:4:adm:/var/adm:<br>
        lp:4:7:lp:/var/spool/lpd:<br>
        sync:5:0:sync:/sbin:/bin/sync<br>
        shutdown:6:0:shutdown:/sbin:/sbin/shutdown<br>
        halt:7:0:halt:/sbin:/sbin/halt<br>
        mail:8:12:mail:/var/spool/mail:<br>
        news:9:13:news:var/spool/news<br>
        uucp:10:14:uucp:/var/spool/uucp:<br>
        operator:11:0:operator :/root:<br>
        games:12:100:games:/usr/games:<br>
        gopher:13:30:gopher:/usr/lib/gopher-data:<br>
        ftp:14:50:FTP User:/home/ftp:<br>
        nobody:99:99:Nobody:/:<br>
        xfs:100:101:X Font Server: /etc/Xll/fs:/bin/false<br>
        gdm:42:42:/home/gdm:/bin/bash<br>
        kids:500:500: : /home/kids:/bin/bash<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc104></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        getpwnam（從密碼文件中取得指定賬號的數據） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getpw，fgetpwent，getpwent，getpwuid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> struct passwd * getpwnam(const 
        char * name);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getpwnam()用來逐一搜索參數name 指定的賬號名稱，找到時便將該用戶的數據以passwd結構返回。passwd結構請參考getpwent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 返回passwd 結構數據，如果返回NULL 則表示已無數據，或有錯誤發生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> /*取得root賬號的識別碼和根目錄*/<br>
        #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        struct passwd *user;<br>
        user = getpwnam(“root”);<br>
        printf(“name:%s\n”,user-&gt;pw_name);<br>
        printf(“uid:%d\n”,user-&gt;pw_uid);<br>
        printf(“home:%s\n”,user-&gt;pw_dir);<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> name:root<br>
        uid:0<br>
        home:/root<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc105></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        getpwuid（從密碼文件中取得指定uid 的數據） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getpw，fgetpwent，getpwent，getpwnam<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> struct passwd * getpwuid(uid_t 
        uid);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getpwuid()用來逐一搜索參數uid 指定的用戶識別碼，找到時便將該用戶的數據以結構返回結構請參考將該用戶的數據以passwd 
        結構返回。passwd 結構請參考getpwent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 返回passwd 結構數據，如果返回NULL 則表示已無數據，或者有錯誤發生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        struct passwd *user;<br>
        user= getpwuid(6);<br>
        printf(“name:%s\n”,user-&gt;pw_name);<br>
        printf(“uid:%d\n”,user-&gt;pw_uid);<br>
        printf(“home:%s\n”,user-&gt;pw_dir);<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> name:shutdown<br>
        uid:6<br>
        home:/sbin<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc106></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        getuid（取得真實的用戶識別碼） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> geteuid，setreuid，setuid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> uid_t getuid(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getuid()用來取得執行目前進程的用戶識別碼。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 用戶識別碼<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> main()<br>
        { <br>
        printf(“uid is %d\n”,getuid());<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> uid is 0 /*當使用root身份執行範例程序時*/<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc107></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        getutent（從utmp 文件中取得賬號登錄數據） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getutent，getutid，getutline，setutent，endutent，pututline，utmpname<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;utmp.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> struct utmp *getutent(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getutent()用來從utmp 文件(/var/run/utmp)中讀取一項登錄數據，該數據以utmp 
        結構返回。第一次調用時會取得第一位用戶數據，之後每調用一次就會返回下一項數據，直到已無任何數據時返回NULL。<br>
        utmp結構定義如下<br>
        struct utmp<br>
        {<br>
        short int ut_type; /*登錄類型*/<br>
        pid_t ut_pid; /*login進程的pid*/<br>
        char ut_line[UT_LINESIZE];/*登錄裝置名，省略了“/dev/”*/<br>
        char ut_id[4]; /* Inittab ID*/<br>
        char ut_user[UT_NAMESIZE];/*登錄賬號*/<br>
        char ut_host[UT_HOSTSIZE];/*登錄賬號的遠程主機名稱*/<br>
        struxt exit_status ut_exit;/* 當類型為DEAD_PROCESS時進程的結<br>
        束狀態*/<br>
        long int ut_session; /*Sessioc ID*/<br>
        struct timeval ut_tv; /*時間記錄*/<br>
        int32_t ut_addr_v6[4]; /*遠程主機的網絡地址*/<br>
        char __unused[20]; /* 保留未使用*/<br>
        };<br>
        ut_type有以下幾種類型:<br>
        EMPTY 此為空的記錄。<br>
        RUN_LVL 記錄系統run－level的改變<br>
        BOOT_TIME 記錄系統開機時間<br>
        NEW_TIME 記錄系統時間改變後的時間<br>
        OLD_TINE 記錄當改變系統時間時的時間。<br>
        INIT_PROCESS 記錄一個由init衍生出來的進程。<br>
        LOGIN_PROCESS 記錄login進程。<br>
        USER_PROCESS 記錄一般進程。<br>
        DEAD_PROCESS 記錄一結束的進程。<br>
        ACCOUNTING 目前尚未使用。<br>
        exit_status結構定義<br>
        struct exit_status<br>
        {<br>
        short int e_termination; /*進程結束狀態*/<br>
        short int e_exit; /*進程退出狀態*/<br>
        };<br>
        timeval的結構定義請參考gettimeofday（）。<br>
        相關常數定義如下:<br>
        UT_LINESIZE 32<br>
        UT_NAMESIZE 32<br>
        UT_HOSTSIZE 256<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 返回utmp 結構數據，如果返回NULL 則表示已無數據，或有錯誤發生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 附加說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getutent()在第一次調用時會打開utmp 文件，讀取數據完畢後可使用endutent()來關閉該utmp文件。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;utmp.h&gt;<br>
        main()<br>
        {<br>
        struct utmp *u;<br>
        while((u=getutent())){<br>
        if(u-&gt;ut_type = = USER_PROCESS)<br>
        printf(“%d %s %s %s \n”,u-&gt;ut_type,u-&gt;ut_user,u-&gt;ut_line,u-&gt;ut_host);<br>
        }<br>
        endutent();<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> /* 表示有三個root賬號分別登錄/dev/pts/0，/dev/pts/1，/dev/pts/2 
        */<br>
        7 root pts/0<br>
        7 root pts/1<br>
        7 root pts/2<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc108></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        getutid（從utmp 文件中查找特定的記錄） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getutent，getutline<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;utmp.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> strcut utmp *getutid(strcut 
        utmp *ut);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getutid()用來從目前utmp 文件的讀寫位置逐一往後搜索參數ut指定的記錄，如果ut-&gt;ut_type 
        為RUN_LVL，BOOT_TIME，NEW_TIME，OLD_TIME 其中之一則查找與ut-&gt;ut_type 相符的記錄；若ut-&gt;ut_type 
        為INIT_PROCESS，LOGIN_PROCESS，USER_PROCESS或DEAD_PROCESS其中之一，則查找與ut-&gt;ut_id相符的記錄。找到相符的記錄便將該數據以utmp 
        結構返回。utmp結構請參考getutent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 返回utmp 結構數據，如果返回NULL 則表示已無數據，或有錯誤發生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;utmp.h&gt;<br>
        main()<br>
        {<br>
        struct utmp ut,*u;<br>
        ut.ut_type=RUN_LVL;<br>
        while((u= getutid(&ut))){<br>
        printf(“%d %s %s %s\n”,u-&gt;ut_type,u-&gt;ut_user,u-&gt;ut_line,u-&gt;ut_host);<br>
        }<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 1 runlevel -<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc109></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        getutline（從utmp 文件中查找特定的記錄） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getutent，getutid，pututline<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;utmp.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> struct utmp * getutline (struct 
        utmp *ut);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getutline()用來從目前utmp文件的讀寫位置逐一往後搜索ut_type為USER_PROCESS 
        或LOGIN_PROCESS 的記錄，而且ut_line 和ut-&gt;ut_line 相符。找到相符的記錄便將該數據以utmp 結構返回，utmp結構請參考getutent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 返回utmp 結構數據，如果返回NULL 則表示已無數據，或有錯誤發生。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;utmp.h&gt;<br>
        main()<br>
        {<br>
        struct utmp ut,*u;<br>
        strcpy (ut.ut_line,”pts/1”);<br>
        while ((u=getutline(&ut))){<br>
        printf(“%d %s %s %s \n”,u-&gt;ut_type,u-&gt;ut_user,u-&gt;ut_line,u-&gt;ut_host);<br>
        }<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 7 root pts/1<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc110></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        initgroups（初始化組清單） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> setgrent，endgrent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;grp.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> int initgroups(const char *user,gid_t 
        group);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> initgroups（）用來從組文件（/etc/group）中讀取一項組數據，若該組數據的成員中有參數user時，便將參數group組識別碼加入到此數據中。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 執行成功則返回0，失敗則返回-1，錯誤碼存於errno。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc111></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        pututline（將utmp 記錄寫入文件） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getutent，getutid，getutline<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;utmp.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> void pututline(struct utmp *ut);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> pututline()用來將參數ut的utmp結構記錄到utmp文件中。此函數會先用getutid()來取得正確的寫入位置，如果沒有找到相符的記錄則會加入到utmp文件尾，utmp結構請參考getutent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 附加說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 需要有寫入/var/run/utmp 的權限<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;utmp.h&gt;<br>
        main()<br>
        {<br>
        struct utmp ut;<br>
        ut.ut_type =USER_PROCESS;<br>
        ut.ut_pid=getpid();<br>
        strcpy(ut.ut_user,”kids”);<br>
        strcpy(ut.ut_line,”pts/1”);<br>
        strcpy(ut.ut_host,”www.gnu.org”);<br>
        pututline(&ut);<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> /*執行範例後用指令who -l 觀察*/<br>
        root pts/0 dec9 19:20<br>
        kids pts/1 dec12 10:31(www.gnu.org)<br>
        root pts/2 dec12 13:33<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc112></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        seteuid（設置有效的用戶識別碼） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> setuid，setreuid，setfsuid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> int seteuid(uid_t euid);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> seteuid()用來重新設置執行目前進程的有效用戶識別碼。在Linux下，seteuid(euid)相當於setreuid(-1,euid)。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 執行成功則返回0，失敗則返回-1，錯誤代碼存於errno<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 附加說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 請參考setuid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc113></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        setfsgid（設置文件系統的組識別碼） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> setuid，setreuid，seteuid，setfsuid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> int setfsgid(uid_t fsgid);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> setfsgid()用來重新設置目前進程的文件系統的組識別碼。一般情況下，文件系統的組識別碼(fsgid)與有效的組識別碼(egid)是相同的。如果是超級用戶調用此函數，參數fsgid 
        可以為任何值，否則參數fsgid必須為real/effective/saved的組識別碼之一。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 執行成功則返回0，失敗則返回-1，錯誤代碼存於errno。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 附加說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 此函數為Linux特有。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> EPERM 權限不夠，無法完成設置。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc114></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        setfsuid（設置文件系統的用戶識別碼） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> setuid，setreuid，seteuid，setfsgid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> int setfsuid(uid_t fsuid);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> setfsuid()用來重新設置目前進程的文件系統的用戶識別碼。一般情況下，文件系統的用戶識別碼(fsuid)與有效的用戶識別碼(euid)是相同的。如果是超級用戶調用此函數，參數fsuid可以為任何值，否則參數fsuid必須為real/effective/saved的用戶識別碼之一。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 執行成功則返回0，失敗則返回-1，錯誤代碼存於errno<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 附加說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 此函數為Linux特有<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> EPERM 權限不夠，無法完成設置。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc115></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        setgid（設置真實的組識別碼） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getgid，setregid，getegid，setegid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> int setgid(gid_t gid);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> setgid()用來將目前進程的真實組識別碼(real 
        gid)設成參數gid值。如果是以超級用戶身份執行此調用，則real、effective與savedgid都會設成參數gid。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 設置成功則返回0，失敗則返回-1，錯誤代碼存於errno中。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> EPERM 並非以超級用戶身份調用，而且參數gid 並非進程的effective 
        gid或saved gid值之一。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc116></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        setgrent（從頭讀取組文件中的組數據） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getgrent，endgrent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;grp.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> void setgrent(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> setgrent()用來將getgrent()的讀寫地址指回組文件開頭。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 附加說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 請參考setpwent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc117></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        setgroups（設置組代碼） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> initgroups，getgroup，getgid，setgid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;grp.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> int setgroups(size_t size,const 
        gid_t * list);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> setgroups()用來將list 數組中所標明的組加入到目前進程的組設置中。參數size為list()的gid_t數目，最大值為NGROUP(32)。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 設置成功則返回0，如有錯誤則返回-1。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 錯誤代碼 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> EFAULT 參數list數組地址不合法。<br>
        EPERM 權限不足，必須是root權限<br>
        EINVAL 參數size值大於NGROUP(32)。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc118></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        setpwent（從頭讀取密碼文件中的賬號數據） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getpwent，endpwent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> void setpwent(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> setpwent()用來將getpwent()的讀寫地址指回密碼文件開頭。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 範例 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;pwd.h&gt;<br>
        #include&lt;sys/types.h&gt;<br>
        main()<br>
        {<br>
        struct passwd *user;<br>
        int i;<br>
        for(i=0;i&lt;4;i++){<br>
        user=getpwent();<br>
        printf(“%s :%d :%d :%s:%s:%s\n”,user-&gt;pw_name,user-&gt;pw_uid,user-&gt;pw_gid,<br>
        user-&gt;pw_gecos,user-&gt;pw_dir,user-&gt;pw_shell);<br>
        }<br>
        setpwent();<br>
        user=getpwent();<br>
        printf(“%s :%d :%d :%s:%s:%s\n”,user-&gt;pw_name,user-&gt;pw_uid,user-&gt;pw_gid,<br>
        user-&gt;pw_gecos,user-&gt;pw_dir,user-&gt;pw_shell);<br>
        endpwent();<br>
        }<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 執行 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> root:0:0:root:/root:/bin/bash<br>
        bin:1:1:bin:/bin<br>
        daemon:2:2:daemon:/sbin<br>
        adm:3:4:adm:/var/adm<br>
        root:0:0:root:/root:/bin/bash<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc119></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        setregid（設置真實及有效的組識別碼） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> setgid，setegid，setfsgid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> int setregid(gid_t rgid,gid_t 
        egid);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> setregid()用來將參數rgid設為目前進程的真實組識別碼，將參數egid設置為目前進程的有效組識別碼。如果參數rgid或egid值為-1，則對應的識別碼不會改變。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 執行成功則返回0，失敗則返回-1，錯誤代碼存於errno。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc120></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        setreuid（設置真實及有效的用戶識別碼） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> setuid，seteuid，setfsuid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> int setreuid(uid_t ruid,uid_t 
        euid);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> setreuid()用來將參數ruid 設為目前進程的真實用戶識別碼，將參數euid 
        設置為目前進程的有效用戶識別碼。如果參數ruid 或euid值為-1，則對應的識別碼不會改變。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 執行成功則返回0，失敗則返回-1，錯誤代碼存於errno。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 附加說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 請參考setuid（）。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc121></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        setuid（設置真實的用戶識別碼） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getuid，setreuid，seteuid，setfsuid<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;unistd.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> int setuid(uid_t uid)<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> setuid()用來重新設置執行目前進程的用戶識別碼。不過，要讓此函數有作用，其有效的用戶識別碼必須為0(root)。在Linux下，當root使用setuid()來變換成其他用戶識別碼時，root權限會被拋棄，完全轉換成該用戶身份，也就是說，該進程往後將不再具有可setuid()的權利，如果只是向暫時拋棄root 
        權限，稍後想重新取回權限，則必須使用seteuid()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 執行成功則返回0，失敗則返回-1，錯誤代碼存於errno。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 附加說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 一般在編寫具setuid root的程序時，為減少此類程序帶來的系統安全風險，在使用完root權限後建議馬上執行setuid(getuid());來拋棄root權限。此外，進程uid和euid不一致時Linux系統將不會產生core 
        dump。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc122></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        setutent（從頭讀取utmp 文件中的登錄數據） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getutent，endutent<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;utmp.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> void setutent(void);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> setutent()用來將getutent()的讀寫地址指回utmp文件開頭。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 附加說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> 請參考setpwent()或setgrent()。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
        <font face='宋體' size='2'><a name=linuxc123></a></font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        utmpname（設置utmp 文件路徑） </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 相關函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> getutent，getutid，getutline，setutent，endutent，pututline<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 表頭文件 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> #include&lt;utmp.h&gt;<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 定義函數 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> void utmpname(const char * file);<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 函數說明 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> utmpname()用來設置utmp文件的路徑，以提供utmp相關函數的存取路徑。如果沒有使用utmpname()則默認utmp文件路徑為/var/run/utmp。<br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80"> 
      <div align="right"><font face='宋體' size='2'> 返回值 </font> </div>
    </td>
    <td> 
      <div align="left"><font face='宋體' size='2'> <br>
        </font> </div>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="80">　 
      <div align="right"><br>
      </div>
    </td>
  </tr>
</table>
</body>
</html>
