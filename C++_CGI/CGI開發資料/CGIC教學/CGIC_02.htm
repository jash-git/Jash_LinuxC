<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0064)http://www.360doc.com/content/12/0424/14/9400799_206145305.shtml -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css"></style>
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
    <meta content="360doc" name="classification">
    
    <meta content="C语言CGI上传文件" name="keywords">
    <meta content="C语言CGI上传文件" name="description">
    <meta content="www.360doc.com" name="author">
    
    <title>
        C语言CGI上传文件
    </title>
    <script type="text/javascript" src="./CGIC_02_files/jquery.js"></script>
    <script type="text/javascript" src="./CGIC_02_files/jQuery.md5.js"></script><style type="text/css"></style>
    <script type="text/javascript" src="./CGIC_02_files/flexpaper_flash.js"></script>
    <script type="text/javascript" language="javascript">
        window.onerror = ignoreError;
        function ignoreError() {
            return true;
        }  
    </script>
 <link href="./CGIC_02_files/wz.css" rel="stylesheet" type="text/css">


    <script type="text/javascript" src="./CGIC_02_files/showarticlefollow.js"></script>
<script language="Javascript" type="text/javascript" src="./CGIC_02_files/GetArtInfo20100301NewV.ashx" id="jsonp1361013018811"></script><script type="text/javascript" src="./CGIC_02_files/relatedItems"></script><script type="text/javascript" src="./CGIC_02_files/EssayforIE120425.js"></script><style id="wrc-middle-css" type="text/css">.wrc_whole_window{	display: none;	position: fixed; 	z-index: 2147483647;	background-color: rgba(40, 40, 40, 0.9);	word-spacing: normal !important;	margin: 0px !important;	padding: 0px !important;	border: 0px !important;	left: 0px;	top: 0px;	width: 100%;	height: 100%;	line-height: normal !important;	letter-spacing: normal !important;	overflow: hidden;}.wrc_bar_window{	display: none;	position: fixed; 	z-index: 2147483647;	background-color: rgba(60, 60, 60, 1.0);	word-spacing: normal !important;	font-family: Segoe UI, Arial Unicode MS, Arial, Sans-Serif;	margin: 0px !important;	padding: 0px !important;	border: 0px !important;	left: 0px;	top: 0px;	width: 100%;	height: 40px;	line-height: normal !important;	letter-spacing: normal !important;	color: white !important;	font-size: 13px !important;}.wrc_middle {	display: table-cell;	vertical-align: middle;	width: 100%;}.wrc_middle_main {	font-family: Segoe UI, Arial Unicode MS, Arial, Sans-Serif;	font-size: 14px;	width: 600px;	height: auto;    background: url(chrome-extension://icmlaeflemplmjndnaapfdbbnpncnbda/skin/images/background-body.jpg) repeat-x left top;	background-color: rgb(39, 53, 62);	position: relative;	margin-left: auto;	margin-right: auto;	text-align: left;}.wrc_middle_tq_main {	font-family: Segoe UI, Arial Unicode MS, Arial, Sans-Serif;	font-size: 16px;	width: 615px;	height: 460px;    background: url(chrome-extension://icmlaeflemplmjndnaapfdbbnpncnbda/skin/images/background-sitecorrect.png) no-repeat;	background-color: white;	color: black !important;	position: relative;	margin-left: auto;	margin-right: auto;	text-align: center;}.wrc_middle_logo {    background: url(chrome-extension://icmlaeflemplmjndnaapfdbbnpncnbda/skin/images/logo.jpg) no-repeat left bottom;    width: 140px;    height: 42px;    color: orange;    display: table-cell;    text-align: right;    vertical-align: middle;}.wrc_icon_warning {	margin: 20px 10px 20px 15px;	float: left;	background-color: transparent;}.wrc_middle_title {    color: #b6bec7;	height: auto;    margin: 0px auto;	font-size: 2.2em;	white-space: nowrap;	text-align: center;}.wrc_middle_hline {    height: 2px;	width: 100%;    display: block;}.wrc_middle_description {	text-align: center;	margin: 15px;	font-size: 1.4em;	padding: 20px;	height: auto;	color: white;	min-height: 3.5em;}.wrc_middle_actions_main_div {	margin-bottom: 15px;	text-align: center;}.wrc_middle_actions_blue_button div {	display: inline-block;	width: auto;	cursor: Pointer;	margin: 3px 10px 3px 10px;	color: white;	font-size: 1.2em;	font-weight: bold;}.wrc_middle_actions_blue_button {	-moz-appearance: none;	border-radius: 7px;	-moz-border-radius: 7px/7px;	border-radius: 7px/7px;	background-color: rgb(0, 173, 223) !important;	display: inline-block;	width: auto;	cursor: Pointer;	border: 2px solid #00dddd;	padding: 0px 20px 0px 20px;}.wrc_middle_actions_blue_button:hover {	background-color: rgb(0, 159, 212) !important;}.wrc_middle_actions_blue_button:active {	background-color: rgb(0, 146, 200) !important;	border: 2px solid #00aaaa;}.wrc_middle_actions_grey_button div {	display: inline-block;	width: auto;	cursor: Pointer;	margin: 3px 10px 3px 10px;	color: white !important;	font-size: 15px;	font-weight: bold;}.wrc_middle_actions_grey_button {	-moz-appearance: none;	border-radius: 7px;	-moz-border-radius: 7px/7px;	border-radius: 7px/7px;	background-color: rgb(100, 100, 100) !important;	display: inline-block;	width: auto;	cursor: Pointer;	border: 2px solid #aaaaaa;	text-decoration: none;	padding: 0px 20px 0px 20px;}.wrc_middle_actions_grey_button:hover {	background-color: rgb(120, 120, 120) !important;}.wrc_middle_actions_grey_button:active {	background-color: rgb(130, 130, 130) !important;	border: 2px solid #00aaaa;}.wrc_middle_action_low {	font-size: 0.9em;	white-space: nowrap;	cursor: Pointer;	color: grey !important;	margin: 10px 10px 0px 10px;	text-decoration: none;}.wrc_middle_action_low:hover {	color: #aa4400 !important;}.wrc_middle_actions_rest_div {	padding-top: 5px;	white-space: nowrap;	text-align: center;}.wrc_middle_action {	white-space: nowrap;	cursor: Pointer;	color: red !important;	font-size: 1.2em;	margin: 10px 10px 0px 10px;	text-decoration: none;}.wrc_middle_action:hover {	color: #aa4400 !important;}</style><script id="wrc-script-middle_window" type="text/javascript" language="JavaScript">var g_inputsCnt = 0;var g_InputThis = new Array(null, null, null, null);var g_alerted = false;/* we test the input if it includes 4 digits   (input is a part of 4 inputs for filling the credit-card number)*/function is4DigitsCardNumber(val){	var regExp = new RegExp('[0-9]{4}');	return (val.length == 4 && val.search(regExp) == 0);}/* testing the whole credit-card number 19 digits devided by three '-' symbols or   exactly 16 digits without any dividers*/function isCreditCardNumber(val){	if(val.length == 19)	{		var regExp = new RegExp('[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}');		return (val.search(regExp) == 0);	}	else if(val.length == 16)	{		var regExp = new RegExp('[0-9]{4}[0-9]{4}[0-9]{4}[0-9]{4}');		return (val.search(regExp) == 0);	}	return false;}function CheckInputOnCreditNumber(self){	if(g_alerted)		return false;	var value = self.value;	if(self.type == 'text')	{		if(is4DigitsCardNumber(value))		{			var cont = true;			for(i = 0; i < g_inputsCnt; i++)				if(g_InputThis[i] == self)					cont = false;			if(cont && g_inputsCnt < 4)			{				g_InputThis[g_inputsCnt] = self;				g_inputsCnt++;			}		}		g_alerted = (g_inputsCnt == 4);		if(g_alerted)			g_inputsCnt = 0;		else			g_alerted = isCreditCardNumber(value);	}	return g_alerted;}function CheckInputOnPassword(self){	if(g_alerted)		return false;	var value = self.value;	if(self.type == 'password')	{		g_alerted = (value.length > 0);	}	return g_alerted;}function onInputBlur(self, bRatingOk, bFishingSite){	var bCreditNumber = CheckInputOnCreditNumber(self);	var bPassword = CheckInputOnPassword(self);	if((!bRatingOk || bFishingSite == 1) && (bCreditNumber || bPassword) )	{		var warnDiv = document.getElementById("wrcinputdiv");		if(warnDiv)		{			/* show the warning div in the middle of the screen */			warnDiv.style.left = "0px";			warnDiv.style.top = "0px";			warnDiv.style.width = "100%";			warnDiv.style.height = "100%";			document.getElementById("wrc_warn_fs").style.display = 'none';			document.getElementById("wrc_warn_cn").style.display = 'none';			if(bFishingSite)				document.getElementById("wrc_warn_fs").style.display = 'block';			else				document.getElementById("wrc_warn_cn").style.display = 'block';			warnDiv.style.display = 'table';		}	}}</script></head><style type="text/css">embed[type*="application/x-shockwave-flash"],embed[src*=".swf"],object[type*="application/x-shockwave-flash"],object[codetype*="application/x-shockwave-flash"],object[src*=".swf"],object[codebase*="swflash.cab"],object[classid*="D27CDB6E-AE6D-11cf-96B8-444553540000"],object[classid*="d27cdb6e-ae6d-11cf-96b8-444553540000"],object[classid*="D27CDB6E-AE6D-11cf-96B8-444553540000"]{	display: none !important;}</style>
<body onmouseup="setDragEnd()" onmousemove="DragDiv();" onclick="delAllDiv(event)">
<div class="containera">
  <div class="headersmall">            
            <div class="helpsmall"> 
              <div class="help1 julink">
                <span><a href="http://www.360doc.com/help.html" target="_blank">帮助</a></span><span>|</span><span><a target="_blank" href="http://www.360doc.com/advice.html">留言交流</a></span><span>|</span>
                <span id="spanLogin">
                <span id="loginstatus"><a href="http://www.360doc.com/login.aspx?reurl=http://www.360doc.com/content/12/0424/14/9400799_206145305.shtml">登录</a></span>
                </span>
            </div>
            </div>
</div></div>
 
 <div class="logebox">
 <div class="logemain">
 <div class="logeimg left"><img src="./CGIC_02_files/logo2.gif"></div>
 <div class=" left" style=" padding-top:27px;">
  <table border="0" cellpadding="0" cellspacing="0" height="24">
                <tbody><tr>
                    <td width="70px">
                    </td>
                    <td class="navwz" width="88px">
                        <a href="http://www.360doc.com/index.html">首&nbsp;页</a>
                    </td>
                    <td class="navwz" width="120px">
                        <a href="http://www.360doc.com/readroom.html">阅览室</a>
                         
                    </td>
                    <td class="navwz" width="94px">
                        <a href="http://www.360doc.com/weekstar.html">馆友</a>
                    </td>
                    <td class="navwz" width="152px">
                        <a href="http://www.360doc.com/my360doc.aspx">我的图书馆</a>
                    </td>
                </tr>
            </tbody></table>
 </div>
<div class="right search"> 
<div class=" left"><img src="./CGIC_02_files/tb2.gif"></div>
<div class=" left"><input name="input" class="scinput" onkeyup="showIntelliSense()" id="txtSearchword" value="  搜文章 找馆友" onblur="if(!this.value) {this.value=&#39;  搜文章 找馆友&#39;;this.style.color=&#39;#b2b2b2&#39;;}" ;="" onfocus="if(this.value==&#39;  搜文章 找馆友&#39;) this.value=&#39;&#39;;this.style.color=&#39;#272727&#39;" type="text"></div>
<div class=" left"><a href="javascript:gosearch();"><img src="./CGIC_02_files/tb3.gif" width="68" height="25"></a></div>

</div>
 </div>
</div>
 <div class="navxt both"></div>
  <div class="both"></div>
  <div class="mainzt">
<table class="index_main" border="0" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td align="left" valign="top" width="727px">
 <div id="ADAboveArtContent"><iframe marginwidth="0" marginheight="0" frameborder="0" scrolling="no" width="0" height="0" src="about:blank" style="display: none !important; visibility: hidden !important; opacity: 0 !important; background-position: 728px 95px;"></iframe></div>
 <div style=" height:7px;"></div>
<table border="0" cellpadding="0" cellspacing="0" class="mainbj6" id="docArtClass">
<tbody>
<tr>
<td>
<div style=" padding-top:8px; color:#797b7a; padding-left:6px;">
<div class=" left">来自：<span class="name" onclick="wzhit(1)"><a href="http://www.360doc.com/userhome/9400799" target="_blank">champion_xu</a></span> &gt; <span id="cname" onclick="wzhit(2)"><a href="http://www.360doc.com/userhome.aspx?userid=9400799&cid=25" target="_blank">cgi</a></span></div>

<div class=" right">
<table border="0" cellpadding="0" cellspacing="0" style=" vertical-align: text-bottom;">
<tbody>
<tr>
<td width="40">配色：</td>
<td width="21"><img src="./CGIC_02_files/cr1.gif" id="docArtC1" onclick="ChangeArtClass(1,this)" style="cursor:pointer;"></td>
<td width="21"><img src="./CGIC_02_files/cr2.gif" id="docArtC2" onclick="ChangeArtClass(2,this)" style="cursor:pointer;"></td>
<td width="21"><img src="./CGIC_02_files/cr3.gif" id="docArtC3" onclick="ChangeArtClass(3,this)" style="cursor:pointer;"></td>
<td width="21"><img src="./CGIC_02_files/cr4.gif" id="docArtC4" onclick="ChangeArtClass(4,this)" style="cursor:pointer;"></td>
<td width="21"><img src="./CGIC_02_files/cr5.gif" id="docArtC5" onclick="ChangeArtClass(5,this)" style="cursor:pointer;"></td>
<td width="28"><img src="./CGIC_02_files/cr6-1.gif" id="docArtC6" onclick="ChangeArtClass(6,this)" style="cursor:pointer;"></td>
<td width="95" class="zihao">字号：<span style="cursor:pointer;" onclick="ChangeArtSize(3,this)">大</span><span style="cursor:pointer;" onclick="ChangeArtSize(2,this)">中</span><span style="cursor:pointer;" onclick="ChangeArtSize(1,this)">小</span></td>
</tr>
</tbody>
</table>

</div>
</div>
</td>
</tr>
<tr>
<td>
<table border="0" cellpadding="0" cellspacing="0" style=" width:100%; text-align:center;">
<tbody>
<tr> 
<td class="biaoti">C语言CGI上传文件</td>
</tr>
<tr> 
<td class="biaoqian">


<table cellpadding="0" cellspacing="0" style="text-align:center;margin: 0px auto;"><tbody><tr><td>


<div class="left">2012-04-24&nbsp;|&nbsp;阅：<span id="360doc_Readnum">413</span>&nbsp;&nbsp;转：<span id="360doc_saverNum"><span style="cursor:pointer;" onclick="javascript:ShowSaverUser();">11</span><div id="sameArtOuter" style="display:none;position: absolute; height:305px;width:144px;margin-left:-30px;margin-top:15px;" class="box_6"><div id="sameArt" style=" overflow-y: auto;  height:300px;overflow-x: hidden; z-index: 100;right:0px;margin-top:-10px;" onclick="event.cancelBubble=true;"></div></div></span>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="http://www.360doc.com/content/12/0424/14/9400799_206145305.shtml#" onclick=" setTimeout(showShareLayer, 10);">分享</a>&nbsp;</div>

<div class="left"><div style=" padding-top:3px;"><img style="cursor:pointer;" src="./CGIC_02_files/tb10.gif" onclick="  setTimeout(showShareLayer, 10);"></div>

<div class="fenxiang" id="fenxiangLayer" style="display:none;"><ul><li><span class="sharelink"><a href="javascript:void(0);" onclick="wzhit(4);window.open(&#39;http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=&#39;+encodeURIComponent(document.location.href));return false;" title="分享到QQ空间"><img style="vertical-align:middle;" src="./CGIC_02_files/qq.gif" alt="分享到QQ空间">腾讯空间</a></span></li><li><span class="sharelink" onclick="wzhit(5);"><a href="javascript:void((function(s,d,e){if(/renren.com/.test(d.location))return;var f='http://share.renren.com/share/buttonshare?link=',u=d.location,l=d.title,p=[e(u),'&title=',e(l)].join('');function a(){if(!window.open([f,p].join(''),'xnshare',['toolbar=0,status=0,resizable=1,width=626,height=436,left=',(s.width-626)/2,',top=',(s.height-436)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else a();})(screen,document,encodeURIComponent));" title="分享到人人"><img style="vertical-align:middle;" src="./CGIC_02_files/renren.gif">人人网</a></span></li><li><span class="sharelink"><a rel="nofollow" title="分享到开心" href="javascript:wzhit(6);window.open('http://www.kaixin001.com/repaste/bshare.php?rcontent='+getPageDes()+'&rurl='+encodeURIComponent(document.location.href)+'&rtitle='+encodeURIComponent(document.title));void(0)"><img style="vertical-align:middle;" src="./CGIC_02_files/kaixin.gif">开心网</a></span></li><li><span class="sharelink" onclick="wzhit(7);"><a href="javascript:void((function(s,d,e,r,l,p,t,z,c){var%20f='http://v.t.sina.com.cn/share/share.php?appkey=',u=z||d.location,p=['&url=',e(u),'&title=',e(t||d.title),'&source=',e(r),'&sourceUrl=',e(l),'&content=',c||'gb2312','&pic=',e(p||'')].join('');function%20a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=440,height=430,left=',(s.width-440)/2,',top=',(s.height-430)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%20a();})(screen,document,encodeURIComponent,'','','',getPageDes(),'',''));"><img style="vertical-align:middle;" src="./CGIC_02_files/sina.gif" alt="分享到新浪微博">新浪微博</a></span></li><li><span class="sharelink"><a rel="nofollow" href="javascript:void(0);" onclick="wzhit(8);(function(){var _t = encodeURI(document.title);var _url = encodeURI(window.location);var _appkey =&#39;bf0f24baaebe44ce937e233818bd6d90&#39;;var _site = encodeURI;var _pic = &#39;&#39;;var _u = &#39;http://v.t.qq.com/share/share.php?title=&#39;+_t+&#39;&amp;url=&#39;+_url+&#39;&amp;appkey=&#39;+_appkey+&#39;&amp;site=&#39;+_site+&#39;&amp;pic=&#39;+_pic;window.open( _u,&#39;转播到腾讯微博&#39;, &#39;width=700, height=580, top=180, left=320, toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no&#39; );})()"><img style="vertical-align:middle;" src="./CGIC_02_files/tqq.gif" alt="分享到腾讯微博">腾讯微博</a></span></li><li><span class="sharelink" onclick="wzhit(9);"><a title="分享到搜狐微博" href="javascript:void((function(s,d,e,r,l,p,t,z,c){var f='http://t.sohu.com/third/post.jsp?',u=z||d.location,p=['&url=',e(u),'&title=',e(t||d.title),'&content=',c||'gb2312','&pic=',e(p||'')].join('');function%20a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=660,height=470,left=',(s.width-660)/2,',top=',(s.height-470)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%20a();})(screen,document,encodeURIComponent,'','','',getPageDes(),'','utf-8'));"><img style="vertical-align:middle;" src="./CGIC_02_files/sohu.gif" alt="分享到搜狐微博">搜狐空间</a></span></li><li onmouseover="this.className=&#39;cllan&#39;" onmouseout="this.className=&#39; &#39;" onclick="wzhit(10);showdivemail();"><span><img src="./CGIC_02_files/tb35.gif"></span>推荐给朋友</li><li onmouseover="this.className=&#39;cllan&#39;" onmouseout="this.className=&#39; &#39;" onclick="wzhit(11);showAlertLayer();"><span><img src="./CGIC_02_files/tb36.gif"></span>举报</li></ul></div>
<div id="AlertArt1" style="display:none; position:absolute;"></div>
<div id="SendToFriends1" style="display:none;position:absolute;"></div>
<div id="resavelayer1" class="left zcbutton"><a href="http://www.360doc.com/register.aspx?refer=57&reurl=resaveArt.aspx?articleid=206145305&isreg=1&arttype=1" target="_blank" onclick="wzhit(3);"><img src="./CGIC_02_files/zcbt.gif"></a></div>
</div>

<div class="left">&nbsp;&nbsp;<span id="savestatus"></span></div>


</td></tr></tbody></table>



</td>
</tr>
<tr>
<td>
<table class="wenzhangcss" border="0" cellpadding="0" cellspacing="0" width="100%">
                                        <tbody>
                                        <tr><td style="height:29px;">
                                        <div class="xiantao"></div>
                                        </td></tr>
                                            <tr>
                                                <td align="left" valign="top" width="670px" style=" height:200px;">
                                                    <span id="articlecontent" onmouseup="NewHighlight(event)" style=""><table>
                                                        <tbody><tr><td width="670px"><div id="blog_text" class="cnt"><p><font face="新宋体"><font color="#0000ff">找到的资料<br>
</font></font></p>
<p><font face="新宋体"><font color="#0000ff">用于向嵌入式linux系统上跑的简单web服务上传文件</font></font></p>
<p><font face="新宋体"><font color="#0000ff">说一下原理</font></font></p>
<p><font face="新宋体"><font color="#0000ff">把文件的post表单域安排在post数据流的最后部分,根据 
content_length的长度和post流的固定的数据格式,计算出上传的文件大小,然后从流中边读边写这个大小的数据存入文件就可以了,因为表单
 的提交直接是无法直接用ajax操作的所以使用iframe方式来动态更新上传状态,可以在此基础上做个上传进度条</font></font></p>
<p><font face="新宋体"><font color="#0000ff">在minihttpd环境下测试成功,随便传个几十兆很轻快</font></font></p>
<div><img src="./CGIC_02_files/23457952_1.jpg" class="blogimg" border="0"></div>
<p><font face="新宋体"><font color="#0000ff">// vim:ft=c<br>
</font></font><font face="新宋体"><font color="#0000ff">// /cgi/upload.c<br>
</font><font color="#a020f0">#include</font><font color="#ff00ff">&lt;stdio.h&gt;</font><br>
<font color="#a020f0">#include</font><font color="#ff00ff">&lt;stdlib.h&gt;</font><br>
<font color="#a020f0">#include</font><font color="#ff00ff">&lt;string.h&gt;</font><br>
<font color="#2e8b57"><strong>typedef</strong></font> <font color="#2e8b57"><strong>enum</strong></font>{<br>
&nbsp;&nbsp;&nbsp;&nbsp;   UP_SHOW,<br>
&nbsp;&nbsp;&nbsp;&nbsp;   UP_OK,<br>
&nbsp;&nbsp;&nbsp;&nbsp;   UP_FAIL,<br>
&nbsp;&nbsp;&nbsp;&nbsp;   UP_NONE,<br>
}UP_STATUS;<br>
<font color="#a020f0">#define debug(x...) fprintf(</font><font color="#ff00ff">stderr</font><font color="#a020f0">,x)</font><br>
<font color="#2e8b57"><strong>int</strong></font> main(<font color="#2e8b57"><strong>int</strong></font> argc,<font color="#2e8b57"><strong>char</strong></font>* argv[]){<br>
&nbsp;&nbsp;&nbsp;&nbsp;   printf(<font color="#ff00ff">"ContentType:text/html</font><font color="#6a5acd">\r\n</font><font color="#ff00ff">"</font>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;   printf(<font color="#ff00ff">"Cache-Control:private,max-age=0;</font><font color="#6a5acd">\r\n</font><font color="#ff00ff">"</font>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;   printf(<font color="#ff00ff">"</font><font color="#6a5acd">\r\n</font><font color="#ff00ff">"</font>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;   UP_STATUS up_s;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#2e8b57"><strong>char</strong></font> *p;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#2e8b57"><strong>char</strong></font> updir[<font color="#ff00ff">256</font>]=<font color="#ff00ff">"/tmp/"</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>if</strong></font>(getenv(<font color="#ff00ff">"CONTENT_TYPE"</font>)){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>if</strong></font>(!strncmp(getenv(<font color="#ff00ff">"CONTENT_TYPE"</font>),<font color="#ff00ff">"multipart/form-data"</font>,<font color="#ff00ff">19</font>)){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">//get boundary</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#2e8b57"><strong>char</strong></font> boundary[<font color="#ff00ff">64</font>]=<font color="#ff00ff">"--"</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   p=strstr(getenv(<font color="#ff00ff">"CONTENT_TYPE"</font>),<font color="#ff00ff">"boundary="</font>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   strcpy(boundary+<font color="#ff00ff">2</font>,p+<font color="#ff00ff">9</font>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   debug(<font color="#ff00ff">"boundary=</font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">"</font>,boundary);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">//get content length</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#2e8b57"><strong>int</strong></font> len=atoi(getenv(<font color="#ff00ff">"CONTENT_LENGTH"</font>));<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">//read down to last file field</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#2e8b57"><strong>char</strong></font> str[<font color="#ff00ff">512</font>];<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#2e8b57"><strong>char</strong></font> fname[<font color="#ff00ff">256</font>];<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#2e8b57"><strong>int</strong></font> pos=<font color="#ff00ff">0</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>while</strong></font>(<font color="#ff00ff">1</font>){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>if</strong></font>(fgets(str,<font color="#ff00ff">512</font>,<font color="#ff00ff">stdin</font>)){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   pos+=strlen(str);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>if</strong></font>(strstr(str,<font color="#ff00ff">"filename="</font>)){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">//get filename</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   p=strstr(str,<font color="#ff00ff">"filename="</font>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   strcpy(fname,p+<font color="#ff00ff">9</font>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>if</strong></font>(!strcmp(fname,<font color="#ff00ff">"</font><font color="#6a5acd">\"\"\r\n</font><font color="#ff00ff">"</font>)){debug(<font color="#ff00ff">"nothing</font><font color="#6a5acd">\n</font><font color="#ff00ff">"</font>);up_s=UP_NONE;<font color="#804040"><strong>goto</strong></font> done;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   strcpy(fname,strrchr(fname,<font color="#6a5acd">'\\'</font>)+<font color="#ff00ff">1</font>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   p=strchr(fname,<font color="#6a5acd">'\"'</font>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   *p=<font color="#6a5acd">'\0'</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   debug(<font color="#ff00ff">"*upload file </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">"</font>,fname);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>break</strong></font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   fgets(str,<font color="#ff00ff">512</font>,<font color="#ff00ff">stdin</font>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   pos+=strlen(str);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   fgets(str,<font color="#ff00ff">512</font>,<font color="#ff00ff">stdin</font>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   pos+=strlen(str);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#2e8b57"><strong>int</strong></font> fSize=len-pos-strlen(boundary)-<font color="#ff00ff">6</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   debug(<font color="#ff00ff">"*file size </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">"</font>,fSize);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#2e8b57"><strong>int</strong></font> bSize=<font color="#ff00ff">4096</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">//open file for writing</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#2e8b57"><strong>char</strong></font> fpath[<font color="#ff00ff">256</font>]=<font color="#ff00ff">""</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   strcat(fpath,updir);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   strcat(fpath,fname);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   debug(<font color="#ff00ff">"write to </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">"</font>,fpath);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#2e8b57"><strong>FILE</strong></font> *f=fopen(fpath,<font color="#ff00ff">"wb"</font>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>if</strong></font>(!f){debug(<font color="#ff00ff">"open file failure"</font>);<font color="#804040"><strong>goto</strong></font> fail;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">//chunk read</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#2e8b57"><strong>int</strong></font> chunk=fSize/bSize;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   debug(<font color="#ff00ff">"chunk=</font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">"</font>,chunk);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#2e8b57"><strong>int</strong></font> lbSize=fSize%bSize;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   debug(<font color="#ff00ff">"lbSize=</font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">"</font>,lbSize);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#2e8b57"><strong>void</strong></font>* buf=malloc(bSize);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#2e8b57"><strong>int</strong></font> i;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>for</strong></font>(i=<font color="#ff00ff">0</font>;i&lt;chunk;i++){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>if</strong></font>(fread(buf,bSize,<font color="#ff00ff">1</font>,<font color="#ff00ff">stdin</font>)){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>if</strong></font>(!fwrite(buf,bSize,<font color="#ff00ff">1</font>,f)){debug(<font color="#ff00ff">"error write chunk </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">"</font>,i);<font color="#804040"><strong>goto</strong></font> fail;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<font color="#804040"><strong>else</strong></font>{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   debug(<font color="#ff00ff">"error read chunk </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">"</font>,i); <font color="#804040"><strong>goto</strong></font> fail;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   free(buf);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>if</strong></font>(lbSize){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   buf=malloc(lbSize);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>if</strong></font>(fread(buf,lbSize,<font color="#ff00ff">1</font>,<font color="#ff00ff">stdin</font>)){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>if</strong></font>(!fwrite(buf,lbSize,<font color="#ff00ff">1</font>,f)){debug(<font color="#ff00ff">"error write last chunk"</font>);<font color="#804040"><strong>goto</strong></font> fail;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<font color="#804040"><strong>else</strong></font>{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   debug(<font color="#ff00ff">"error read last chunk"</font>); <font color="#804040"><strong>goto</strong></font> fail;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   free(buf);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>if</strong></font>(fflush(f)){debug(<font color="#ff00ff">"error flush file"</font>);<font color="#804040"><strong>goto</strong></font> fail;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   fclose(f);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   up_s=UP_OK;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>goto</strong></font> done;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br>
&nbsp;&nbsp;&nbsp;&nbsp;   }<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>goto</strong></font> done;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>fail</strong></font>:<br>
&nbsp;&nbsp;&nbsp;&nbsp;   up_s=UP_FAIL;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>done</strong></font>:<br>
&nbsp;&nbsp;&nbsp;&nbsp;   printf(<font color="#ff00ff">"</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;   &lt;html&gt;&lt;head&gt;&lt;title&gt;new&lt;/title&gt;&lt;/head&gt;</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;   &lt;script&gt;</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   function $(id){</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   return document.getElementById(id);</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;   "</font>);<font color="#804040"><strong>if</strong></font>(up_s==UP_SHOW){printf(<font color="#ff00ff">"</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   function post(){</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   $(</font><font color="#6a5acd">\"</font><font color="#ff00ff">status</font><font color="#6a5acd">\"</font><font color="#ff00ff">).innerHTML=</font><font color="#6a5acd">\"</font><font color="#ff00ff">uploading..</font><font color="#6a5acd">\"</font><font color="#ff00ff">;</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   function none(){</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   $(</font><font color="#6a5acd">\"</font><font color="#ff00ff">status</font><font color="#6a5acd">\"</font><font color="#ff00ff">).innerHTML=</font><font color="#6a5acd">\"</font><font color="#ff00ff">none</font><font color="#6a5acd">\"</font><font color="#ff00ff">;</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   function ok(){</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   $(</font><font color="#6a5acd">\"</font><font color="#ff00ff">status</font><font color="#6a5acd">\"</font><font color="#ff00ff">).innerHTML=</font><font color="#6a5acd">\"</font><font color="#ff00ff">done</font><font color="#6a5acd">\"</font><font color="#ff00ff">;</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   function fail(){</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   $(</font><font color="#6a5acd">\"</font><font color="#ff00ff">status</font><font color="#6a5acd">\"</font><font color="#ff00ff">).innerHTML=</font><font color="#6a5acd">\"</font><font color="#ff00ff">fail</font><font color="#6a5acd">\"</font><font color="#ff00ff">;</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;   "</font>);}<font color="#804040"><strong>else</strong></font> <font color="#804040"><strong>if</strong></font>(up_s==UP_OK){printf(<font color="#ff00ff">"</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   parent.ok();</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;   "</font>);}<font color="#804040"><strong>else</strong></font> <font color="#804040"><strong>if</strong></font>(up_s==UP_FAIL){printf(<font color="#ff00ff">"</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   parent.fail();</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;   "</font>);}<font color="#804040"><strong>else</strong></font> <font color="#804040"><strong>if</strong></font>(up_s==UP_NONE){printf(<font color="#ff00ff">"</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   parent.none();</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;   "</font>);}printf(<font color="#ff00ff">"</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;   &lt;/script&gt;</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;   "</font>);<font color="#804040"><strong>if</strong></font>(up_s==UP_SHOW){printf(<font color="#ff00ff">"</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;   &lt;body&gt;</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &lt;form name=</font><font color="#6a5acd">\"</font><font color="#ff00ff">fup</font><font color="#6a5acd">\"</font><font color="#ff00ff"> action=</font><font color="#6a5acd">\"</font><font color="#ff00ff">/cgi/upload</font><font color="#6a5acd">\"</font><font color="#ff00ff"> enctype=</font><font color="#6a5acd">\"</font><font color="#ff00ff">multipart/form-data</font><font color="#6a5acd">\"</font><font color="#ff00ff"> method=</font><font color="#6a5acd">\"</font><font color="#ff00ff">post</font><font color="#6a5acd">\"</font><font color="#ff00ff"> target=</font><font color="#6a5acd">\"</font><font color="#ff00ff">tfrm</font><font color="#6a5acd">\"</font><font color="#ff00ff">&gt;</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &lt;input type=</font><font color="#6a5acd">\"</font><font color="#ff00ff">file</font><font color="#6a5acd">\"</font><font color="#ff00ff"> name=</font><font color="#6a5acd">\"</font><font color="#ff00ff">fp</font><font color="#6a5acd">\"</font><font color="#ff00ff">/&gt;</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &lt;input type=</font><font color="#6a5acd">\"</font><font color="#ff00ff">submit</font><font color="#6a5acd">\"</font><font color="#ff00ff"> onclick=</font><font color="#6a5acd">\"</font><font color="#ff00ff">post()</font><font color="#6a5acd">\"</font><font color="#ff00ff">/&gt;</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &lt;/form&gt;</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &lt;div id=</font><font color="#6a5acd">\"</font><font color="#ff00ff">status</font><font color="#6a5acd">\"</font><font color="#ff00ff"> style=</font><font color="#6a5acd">\"</font><font color="#ff00ff">background-color:#abcdef;</font><font color="#6a5acd">\"</font><font color="#ff00ff">&gt;&lt;/div&gt;</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &lt;iframe width=0 height=0 name=</font><font color="#6a5acd">\"</font><font color="#ff00ff">tfrm</font><font color="#6a5acd">\"</font><font color="#ff00ff">&gt;&lt;/iframe&gt;</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;   "</font>);}printf(<font color="#ff00ff">"</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;   &lt;/body&gt;</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;   &lt;/html&gt;</font><font color="#6a5acd">\</font><br>
<font color="#6a5acd">\n</font><font color="#ff00ff">&nbsp;&nbsp;   "</font>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><strong>return</strong></font> <font color="#ff00ff">1</font>;<br>
}</font></p></div><div><embed id="lingoes_plugin_object" type="application/lingoes-npruntime-capture-word-plugin" height="0" hidden="true" width="0"></div></td></tr></tbody></table>
                                                        <div id="viewerPlaceHolder" style="width: 717px; height: 700px; display: none;">
                                                        </div>
                                                   
                                                     </span>
                                                    <table>
                                                        <tbody><tr>
                                                            <td>
                                                            </td>
                                                        </tr>
                                                    </tbody></table>
                                                </td>
                                                </tr>
                                                <tr><td><div class="left list" style=" text-align:left; font-size:14px;"><div id="lastart"><div class="shangyp">上一篇：<a href="http://www.360doc.com/content/12/0423/14/9400799_205884213.shtml" target="_blank" onclick="wzhit(35);">CGIC简明教程</a></div></div>
                                        <div id="nextart">下一篇：<a href="http://www.360doc.com/content/12/0424/14/9400799_206145754.shtml" target="_blank" onclick="wzhit(36);">CGI上传文件</a></div></div></td></tr>
                                              <tr><td style="height:29px;">
                                        <div style=" padding-top:20px;"><table style="  width:100%; " cellpadding="0" cellspacing="0">
                                        <tbody>
                                        <tr>
                                        <td width="31%"></td>    
                                        <td>
                                         <table cellpadding="0" cellspacing="0" style=" margin:0px auto; ">
                                        <tbody>
                                        <tr>
                                       <td><div class=" left" style="cursor:pointer"><a href="javascript:void(0);" onclick="wzhit(22);SaveArt();"><img src="./CGIC_02_files/tb11.gif"></a></div>    

  <div class=" left xianhua" id="sendFlowerToUser" style="cursor:pointer" onclick="Showflowerlayer(&quot;sendedLayer1&quot;);">献花(<span id="articleflowernum">0</span>)<div id="flowernumadd" class="addtionone">+1</div></div>

                                        

                                       
                                        </td>
                                        </tr></tbody>
                                        </table>
                                        </td>
                                         <td width="31%" style=" vertical-align:bottom;font-size:12px;">
                                         <div class="right" id="sharediv2"> <table border="0" cellpadding="0" cellspacing="0" style=" vertical-align: text-bottom;"><tbody><tr><td width="56">分享到：</td><td width="25"><a href="javascript:void(0);" onclick="wzhit(23);window.open(&#39;http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=&#39;+encodeURIComponent(document.location.href));return false;" title="分享到QQ空间"><img style="vertical-align:middle;" src="./CGIC_02_files/qq.gif" alt="分享到QQ空间"></a></td><td width="22" onclick="wzhit(24);"><a href="javascript:void((function(s,d,e){if(/renren.com/.test(d.location))return;var f='http://share.renren.com/share/buttonshare?link=',u=d.location,l=d.title,p=[e(u),'&title=',e(l)].join('');function a(){if(!window.open([f,p].join(''),'xnshare',['toolbar=0,status=0,resizable=1,width=626,height=436,left=',(s.width-626)/2,',top=',(s.height-436)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else a();})(screen,document,encodeURIComponent));" title="分享到人人"><img style="vertical-align:middle;" src="./CGIC_02_files/renren.gif"></a></td><td width="24"><a rel="nofollow" title="分享到开心" href="javascript:wzhit(25);window.open('http://www.kaixin001.com/repaste/bshare.php?rcontent='+getPageDes()+'&rurl='+encodeURIComponent(document.location.href)+'&rtitle='+encodeURIComponent(document.title));void(0)"><img style="vertical-align:middle;" src="./CGIC_02_files/kaixin.gif"></a></td><td width="21" onclick="wzhit(26);"><a href="javascript:void((function(s,d,e,r,l,p,t,z,c){var%20f='http://v.t.sina.com.cn/share/share.php?appkey=',u=z||d.location,p=['&url=',e(u),'&title=',e(t||d.title),'&source=',e(r),'&sourceUrl=',e(l),'&content=',c||'gb2312','&pic=',e(p||'')].join('');function%20a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=440,height=430,left=',(s.width-440)/2,',top=',(s.height-430)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%20a();})(screen,document,encodeURIComponent,'','','',getPageDes(),'',''));"><img style="vertical-align:middle;" src="./CGIC_02_files/sina.gif" alt="分享到新浪微博"></a></td><td width="24" onclick="wzhit(27);"><a rel="nofollow" href="javascript:void(0);" onclick="(function(){var _t = encodeURI(document.title);var _url = encodeURI(window.location);var _appkey =&#39;bf0f24baaebe44ce937e233818bd6d90&#39;;var _site = encodeURI;var _pic = &#39;&#39;;var _u = &#39;http://v.t.qq.com/share/share.php?title=&#39;+_t+&#39;&amp;url=&#39;+_url+&#39;&amp;appkey=&#39;+_appkey+&#39;&amp;site=&#39;+_site+&#39;&amp;pic=&#39;+_pic;window.open( _u,&#39;转播到腾讯微博&#39;, &#39;width=700, height=580, top=180, left=320, toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no&#39; );})()"><img style="vertical-align:middle;" src="./CGIC_02_files/tqq.gif" alt="分享到腾讯微博"></a></td><td width="24" onclick="wzhit(28);"><a title="分享到搜狐微博" href="javascript:void((function(s,d,e,r,l,p,t,z,c){var f='http://t.sohu.com/third/post.jsp?',u=z||d.location,p=['&url=',e(u),'&title=',e(t||d.title),'&content=',c||'gb2312','&pic=',e(p||'')].join('');function%20a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=660,height=470,left=',(s.width-660)/2,',top=',(s.height-470)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%20a();})(screen,document,encodeURIComponent,'','','',getPageDes(),'','utf-8'));"><img style="vertical-align:middle;" src="./CGIC_02_files/sohu.gif" alt="分享到搜狐微博"></a></td><td width="24"><a><img style="cursor:pointer;" src="./CGIC_02_files/tb10.gif" onclick="setTimeout(showShareLayer2, 10);"></a><div id="fenxiangLayer1" class="fenxiang" style=" margin-left:-90px;*margin-left:-110px!important; margin-top:5px;*margin-top:16px!important;display:none;z-index:1000;"><ul><li onmouseover="this.className=&#39;cllan&#39;" onmouseout="this.className=&#39; &#39;" onclick="wzhit(29);showdivemail1();"><span><img src="./CGIC_02_files/tb35.gif"></span>推荐给朋友</li><li onmouseover="this.className=&#39;cllan&#39;" onmouseout="this.className=&#39; &#39;" onclick="wzhit(30);showAlertLayer1();"><span><img src="./CGIC_02_files/tb36.gif"></span>举报</li></ul></div></td></tr></tbody></table><div id="AlertArt2" style="display:none; position:absolute;"></div><div id="SendToFriends2" style="display:none;position:absolute;"></div></div>
                                        
                                        </td>  
                                        </tr>
                                        </tbody>
                                        </table>


                                    
                                                                               </div>
                                        </td></tr>
                                                
                                                <tr><td>
                                                <div class="xiantao" style=" padding-top:5px;">
                                        
                                        </div>
                                        </td></tr>
                                            <tr><td class="xgiambox" style=" vertical-align:top; height:30px;padding-top:10px;"><div class="right">(本文系<span class="name"><a target="_blank" href="http://www.360doc.com/userhome/9400799">champion_xu...</a></span>首藏<span id="docsource">&nbsp;&nbsp;<a href="http://hi.baidu.com/uc100200/blog/item/457714010180b114728da57a.html" target="_blank">源文网址</a></span>)</div></td></tr>
                                                </tbody>
                                                </table>
</td>
</tr>

</tbody>
</table>


</td>
</tr>
</tbody>
</table>
<div class="lswzbox">
<div>
<table cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td width="370"><div class="titwx">类似文章</div>
 <div class="modlist left list" style=" width:310px;">
   <ul>
        
                <li><span>
                    <a href="http://www.360doc.com/content/06/0922/23/11576_214122.shtml" target="_blank" onclick="wzhit(37)">C程序源代码(2)</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/10/0920/16/2734308_55137952.shtml" target="_blank" onclick="wzhit(37)">printf＆fprintf比较</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/10/1225/19/1053846_81288193.shtml" target="_blank" onclick="wzhit(37)">setjmp和longjmp的用法</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/11/1026/15/1317564_159341164.shtml" target="_blank" onclick="wzhit(37)">将字符串转换为数字</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/10/1113/18/3508740_69081187.shtml" target="_blank" onclick="wzhit(37)">break、continue和goto语句在C语言中的区....</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/09/1129/14/207195_9998765.shtml" target="_blank" onclick="wzhit(37)">几个C语言经典例题</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/07/0117/10/15540_334150.shtml" target="_blank" onclick="wzhit(37)">cgic: 为C语言编写CGI的C函数库</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/06/0606/17/2311_129540.shtml" target="_blank" onclick="wzhit(37)">提升权限终极技巧</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/07/0117/10/15540_334143.shtml" target="_blank" onclick="wzhit(37)">CGI之C语言篇</a></span></li>
            
  </ul> 
  <div class=" right"><a href="http://www.360doc.com/relevant/206145305_more.shtml" onclick="wzhit(38)">更多</a></div>
  </div></td>
<td><script type="text/javascript"><!--
        google_ad_client = "ca-pub-5687840453193141";
        /* 文章页正文下方广告 */
        google_ad_slot = "0341528988";
        google_ad_width = 300;
        google_ad_height = 250;
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</td>

</tr>
</tbody>
</table>

  <div class="wumii-hook"><div class="wumii-related-items-div" style="margin: 0; border: none; padding: 0; clear: both; overflow: hidden; *zoom: 1; *position: relative;">
    <div class="wumii-internal" style="padding: 0; margin: 0; border: none; clear: both; display: block;">
        <div class="wumii-widget-title" style="margin: 0; border: none; padding: 20px 0 5px; _padding-top:10px; text-indent: 0; text-align: left; font-weight: bold; color: #454545;">您可能会喜欢</div>
            <div class="wumii-image-row" style="clear: both; border: none; margin: 0 0 0 -1px; padding: 0; overflow: hidden; _zoom: 1;">
                    <a class="wumii-image-block" hidefocus="true" title="CGI之C语言篇" onmouseout="this.style.backgroundColor=&#39;&#39;" onmouseover="this.style.backgroundColor=&#39;#f6f6f6&#39;" style="display: block; float: left; text-decoration: none; border-bottom: none; cursor: pointer; position: relative; margin: 5px 0; padding: 5px; width: 123px; text-align: left; outline: none; background-image: none; border-left: 1px solid #ffffff !important;" href="http://www.360doc.com/content/07/0117/10/15540_334143.shtml" onmousedown="this.href=&#39;http://app.wumii.com/ext/redirect?url=http%3A%2F%2Fwww.360doc.com%2Fcontent%2F07%2F0117%2F10%2F15540_334143.shtml&amp;ts=&#39; + (new Date()).getTime() + &#39;&amp;from=http%3A%2F%2Fwww.360doc.com%2Fcontent%2F12%2F0424%2F14%2F9400799_206145305.shtml&#39; + &#39;&amp;ref=relatedItems&#39;; return true;" onmouseup="t=this; setTimeout(function() {t.href=&#39;http://www.360doc.com/content/07/0117/10/15540_334143.shtml&#39;;}, 50); return true;">
                        <div class="wumii-image-border" style="margin: 0; padding: 0; width: auto; height: 121px; border: 1px solid #ffffff;"></div>
                        <img class="wumii-image" onload="wumiiImageResize(this, 117);" onerror="wumiiImageError(this);" src="./CGIC_02_files/wordpress_default.gif" style="position: absolute; border: none; background-image: none; visibility: visible; padding: 0px; margin: 0px; width: 117px; height: 117px; clip: rect(0px 117px 117px 0px); left: 8px; top: 8px; background-position: initial initial; background-repeat: initial initial;">
                        <div class="wumii-image-title" style="height: 30px; width: 100%; margin: 3px 0 0 0; padding: 0; text-indent: 0; border: none; font: 12px/15px arial; color: #3a6ba6; overflow: hidden;">CGI之C语言篇</div>
                    </a>
                    <a class="wumii-image-block" hidefocus="true" title="cgic: 为C语言编写CGI的C函数库" onmouseout="this.style.backgroundColor=&#39;&#39;" onmouseover="this.style.backgroundColor=&#39;#f6f6f6&#39;" style="display: block; float: left; text-decoration: none; border-bottom: none; cursor: pointer; position: relative; margin: 5px 0; padding: 5px; width: 123px; text-align: left; outline: none; background-image: none; border-left: 1px solid #ffffff !important;" href="http://www.360doc.com/content/07/0117/10/15540_334150.shtml" onmousedown="this.href=&#39;http://app.wumii.com/ext/redirect?url=http%3A%2F%2Fwww.360doc.com%2Fcontent%2F07%2F0117%2F10%2F15540_334150.shtml&amp;ts=&#39; + (new Date()).getTime() + &#39;&amp;from=http%3A%2F%2Fwww.360doc.com%2Fcontent%2F12%2F0424%2F14%2F9400799_206145305.shtml&#39; + &#39;&amp;ref=relatedItems&#39;; return true;" onmouseup="t=this; setTimeout(function() {t.href=&#39;http://www.360doc.com/content/07/0117/10/15540_334150.shtml&#39;;}, 50); return true;">
                        <div class="wumii-image-border" style="margin: 0; padding: 0; width: auto; height: 121px; border: 1px solid #ffffff;"></div>
                        <img class="wumii-image" onload="wumiiImageResize(this, 117);" onerror="wumiiImageError(this);" src="./CGIC_02_files/wordpress_default.gif" style="position: absolute; border: none; background-image: none; visibility: visible; padding: 0px; margin: 0px; width: 117px; height: 117px; clip: rect(0px 117px 117px 0px); left: 8px; top: 8px; background-position: initial initial; background-repeat: initial initial;">
                        <div class="wumii-image-title" style="height: 30px; width: 100%; margin: 3px 0 0 0; padding: 0; text-indent: 0; border: none; font: 12px/15px arial; color: #3a6ba6; overflow: hidden;">cgic: 为C语言编写CGI的C函数库</div>
                    </a>
                    <a class="wumii-image-block" hidefocus="true" title="C语言学习教程第十章-文件(4)" onmouseout="this.style.backgroundColor=&#39;&#39;" onmouseover="this.style.backgroundColor=&#39;#f6f6f6&#39;" style="display: block; float: left; text-decoration: none; border-bottom: none; cursor: pointer; position: relative; margin: 5px 0; padding: 5px; width: 123px; text-align: left; outline: none; background-image: none; border-left: 1px solid #ffffff !important;" href="http://www.360doc.com/content/10/1113/20/4327749_69106322.shtml" onmousedown="this.href=&#39;http://app.wumii.com/ext/redirect?url=http%3A%2F%2Fwww.360doc.com%2Fcontent%2F10%2F1113%2F20%2F4327749_69106322.shtml&amp;ts=&#39; + (new Date()).getTime() + &#39;&amp;from=http%3A%2F%2Fwww.360doc.com%2Fcontent%2F12%2F0424%2F14%2F9400799_206145305.shtml&#39; + &#39;&amp;ref=relatedItems&#39;; return true;" onmouseup="t=this; setTimeout(function() {t.href=&#39;http://www.360doc.com/content/10/1113/20/4327749_69106322.shtml&#39;;}, 50); return true;">
                        <div class="wumii-image-border" style="margin: 0; padding: 0; width: auto; height: 121px; border: 1px solid #ffffff;"></div>
                        <img class="wumii-image" onload="wumiiImageResize(this, 117);" onerror="wumiiImageError(this);" src="./CGIC_02_files/wordpress_default.gif" style="position: absolute; border: none; background-image: none; visibility: visible; padding: 0px; margin: 0px; width: 117px; height: 117px; clip: rect(0px 117px 117px 0px); left: 8px; top: 8px; background-position: initial initial; background-repeat: initial initial;">
                        <div class="wumii-image-title" style="height: 30px; width: 100%; margin: 3px 0 0 0; padding: 0; text-indent: 0; border: none; font: 12px/15px arial; color: #3a6ba6; overflow: hidden;">C语言学习教程第十章-文件(4)</div>
                    </a>
                    <a class="wumii-image-block" hidefocus="true" title="C语言学习教程第十章-文件(1)" onmouseout="this.style.backgroundColor=&#39;&#39;" onmouseover="this.style.backgroundColor=&#39;#f6f6f6&#39;" style="display: block; float: left; text-decoration: none; border-bottom: none; cursor: pointer; position: relative; margin: 5px 0; padding: 5px; width: 123px; text-align: left; outline: none; background-image: none; border-left: 1px solid #ffffff !important;" href="http://www.360doc.com/content/10/1113/20/4327749_69105804.shtml" onmousedown="this.href=&#39;http://app.wumii.com/ext/redirect?url=http%3A%2F%2Fwww.360doc.com%2Fcontent%2F10%2F1113%2F20%2F4327749_69105804.shtml&amp;ts=&#39; + (new Date()).getTime() + &#39;&amp;from=http%3A%2F%2Fwww.360doc.com%2Fcontent%2F12%2F0424%2F14%2F9400799_206145305.shtml&#39; + &#39;&amp;ref=relatedItems&#39;; return true;" onmouseup="t=this; setTimeout(function() {t.href=&#39;http://www.360doc.com/content/10/1113/20/4327749_69105804.shtml&#39;;}, 50); return true;">
                        <div class="wumii-image-border" style="margin: 0; padding: 0; width: auto; height: 121px; border: 1px solid #ffffff;"></div>
                        <img class="wumii-image" onload="wumiiImageResize(this, 117);" onerror="wumiiImageError(this);" src="./CGIC_02_files/wordpress_default.gif" style="position: absolute; border: none; background-image: none; visibility: visible; padding: 0px; margin: 0px; width: 117px; height: 117px; clip: rect(0px 117px 117px 0px); left: 8px; top: 8px; background-position: initial initial; background-repeat: initial initial;">
                        <div class="wumii-image-title" style="height: 30px; width: 100%; margin: 3px 0 0 0; padding: 0; text-indent: 0; border: none; font: 12px/15px arial; color: #3a6ba6; overflow: hidden;">C语言学习教程第十章-文件(1)</div>
                    </a>
                    <a class="wumii-image-block" hidefocus="true" title="C语言学习教程第十章-文件(5)" onmouseout="this.style.backgroundColor=&#39;&#39;" onmouseover="this.style.backgroundColor=&#39;#f6f6f6&#39;" style="display: block; float: left; text-decoration: none; border-bottom: none; cursor: pointer; position: relative; margin: 5px 0; padding: 5px; width: 123px; text-align: left; outline: none; background-image: none; border-left: 1px solid #ffffff !important;" href="http://www.360doc.com/content/10/1113/20/4327749_69106487.shtml" onmousedown="this.href=&#39;http://app.wumii.com/ext/redirect?url=http%3A%2F%2Fwww.360doc.com%2Fcontent%2F10%2F1113%2F20%2F4327749_69106487.shtml&amp;ts=&#39; + (new Date()).getTime() + &#39;&amp;from=http%3A%2F%2Fwww.360doc.com%2Fcontent%2F12%2F0424%2F14%2F9400799_206145305.shtml&#39; + &#39;&amp;ref=relatedItems&#39;; return true;" onmouseup="t=this; setTimeout(function() {t.href=&#39;http://www.360doc.com/content/10/1113/20/4327749_69106487.shtml&#39;;}, 50); return true;">
                        <div class="wumii-image-border" style="margin: 0; padding: 0; width: auto; height: 121px; border: 1px solid #ffffff;"></div>
                        <img class="wumii-image" onload="wumiiImageResize(this, 117);" onerror="wumiiImageError(this);" src="./CGIC_02_files/wordpress_default.gif" style="position: absolute; border: none; background-image: none; visibility: visible; padding: 0px; margin: 0px; width: 117px; height: 117px; clip: rect(0px 117px 117px 0px); left: 8px; top: 8px; background-position: initial initial; background-repeat: initial initial;">
                        <div class="wumii-image-title" style="height: 30px; width: 100%; margin: 3px 0 0 0; padding: 0; text-indent: 0; border: none; font: 12px/15px arial; color: #3a6ba6; overflow: hidden;">C语言学习教程第十章-文件(5)</div>
                    </a>
            </div>
    </div>
        <div style="margin: 0px; border: none; padding: 5px 0px; clear: both; text-align: right; width: 669px;">
            <a href="http://www.wumii.com/widget/relatedItems" target="_blank" title="无觅相关文章插件" style="font-style: normal; font-variant: normal; font-weight: normal; font-size: 12px; line-height: normal; font-family: arial; color: rgb(187, 187, 187); border-bottom-style: none; word-wrap: normal; display: inline;">无觅</a>
            
        </div>
</div>

</div><script type="text/javascript" id="wumiiRelatedItems"></script>
 


   <div id="Reflction">
                                    <div id="360docRefTN" style="display: none;"></div>
                                    <div id="360docRefCT"></div>
                                    <div id="360docRefPB" align="center" style="display: none;"></div>
                                </div>
                                <a name="sf"></a>
                              



  <div id="ReflectionPart"><div style=" height:206px; margin:26px 0px;"><div class=" left"><img src="./CGIC_02_files/tb22.gif"></div><div class="plbox left"><div class="plmain"><div class="titwx" style=" height:23px;">发表评论：</div><div class="deluwx">您好，请&nbsp;<span><a href="javascript:void(0);" onclick="ReflectionLoginform();">登录</a></span>&nbsp;或者&nbsp;<span><a href="http://www.360doc.com/register.aspx?refer=53&reurl=showweb/0/0/206145305.aspx" onclick="InsertLogData(4);">注册</a></span>&nbsp;后再进行评论 </div><div class=" right"><table border="0" cellpadding="0" cellspacing="0" style=" vertical-align: text-bottom; color:#8f8f8f;"><tbody><tr><td width="111">使用合作网站登录：</td><td width="25"><img src="./CGIC_02_files/tb25.gif"></td><td width="68"><div style=" padding-top:3px;cursor:pointer;" onclick="wzhit(32);toSNSLogin(&#39;smb&#39;)">新浪微博</div></td><td width="24"><img src="./CGIC_02_files/tb26.gif"></td><td width="37"><div style=" padding-top:2px;cursor:pointer;" onclick="wzhit(33);toSNSLogin(&#39;qq&#39;)">QQ</div></td><td width="20"><img src="./CGIC_02_files/tb27.gif"></td><td><div style=" padding-top:3px;cursor:pointer;" onclick="wzhit(34);toSNSLogin(&#39;rr&#39;)">人人</div></td></tr></tbody></table></div></div></div><div class=" left"><img src="./CGIC_02_files/tb23.gif"></div> </div></div>
  
  </div>
</div>





</td>
<td align="center" valign="top" width="18px">
 
</td>
<td align="left" valign="top" width="252px">


<div style="background-color: #f5f5f5;">
    <div style="padding: 11px 14px;">
        <div>
            <div class=" left head">
                <a id="ArticleRight1_HyperLink2" onclick="wzhit(40);" href="http://www.360doc.com/userhome/9400799" target="_blank"><img src="./CGIC_02_files/9400799_201204151216080043_main.jpg" alt="" style="border-width:0px;"></a></div>
            <div class="left" style="padding-left: 14px; padding-top: 3px; color: #6d6d6d;">
                <div class="nametit name">
                    <a id="ArticleRight1_HyperLink1" onclick="wzhit(39);" href="http://www.360doc.com/userhome/9400799" target="_blank">champion_xu</a></div>
                <div style="height: 24px;">
                    馆藏：<a href="http://www.360doc.com/userhome.aspx?userid=9400799&app=1" target="_blank" onclick="javascript:wzhit(41);">354</a></div>
                <div>
                    关注我：<a href="http://www.360doc.com/userhome.aspx?userid=9400799&app=2" target="_blank" onclick="javascript:wzhit(42);">295</a></div>
            </div>
        </div>
        <div class="gxqianm both">
            没有哪一种获得是不需要付代价的</div>
        <div style="padding-top: 5px;">
            <span id="spanfollowstatus"><a href="javascript:void(0);" onclick="gzuser(9400799)"><img src="./CGIC_02_files/tb20.gif"></a></span>&nbsp;<a href="javascript:void(0);" onclick="showMsDiv();wzhit(44);"><img src="./CGIC_02_files/tb21.gif"></a></div>
    </div>
</div>
<div class="pageqh">
<div class="both">
    <script type="text/javascript">
        alimama_pid = "mm_11220363_1101997_10218757";
        alimama_width = 250;
        alimama_height = 250;
    </script>
    <script src="http://a.alimama.cn/inf.js" type="text/javascript"></script>
    <div style="height:15px;"></div>
</div>
    <div id="qh" class="nav">
        <span style="margin-left: 9px" class="checked" onclick="change(&#39;qh&#39;,0)">
            最新文章</span>
        
    </div>
    <div class="mokuaicontent">
    </div>
    <div style="clear: both;">
        <div id="qh_ul_0" style="">
            <div class="modlist left list rightlist">
                <ul>
                    
                            <li><span>
                                <a href="http://www.360doc.com/content/13/0126/19/9400799_262542758.shtml" target="_blank" onclick="wzhit(45)">HD Tune Pro 检测所得的意思</a></span></li>
                        
                            <li><span>
                                <a href="http://www.360doc.com/content/13/0109/14/9400799_259149773.shtml" target="_blank" onclick="wzhit(45)">记录名言，效仿学习</a></span></li>
                        
                            <li><span>
                                <a href="http://www.360doc.com/content/12/1228/19/9400799_256838608.shtml" target="_blank" onclick="wzhit(45)">goagent设置</a></span></li>
                        
                            <li><span>
                                <a href="http://www.360doc.com/content/12/1227/19/9400799_256644024.shtml" target="_blank" onclick="wzhit(45)">MATLAB fft分析频谱</a></span></li>
                        
                            <li><span>
                                <a href="http://www.360doc.com/content/12/1226/14/9400799_256369115.shtml" target="_blank" onclick="wzhit(45)">HTC 528 刷机后白屏解决方案</a></span></li>
                        
                            <li><span>
                                <a href="http://www.360doc.com/content/12/1226/14/9400799_256364452.shtml" target="_blank" onclick="wzhit(45)">T528解锁+ROOT教程</a></span></li>
                        
                            <li><span>
                                <a href="http://www.360doc.com/content/12/1224/21/9400799_256072382.shtml" target="_blank" onclick="wzhit(45)">手机刷机失败无法开机自救教程</a></span></li>
                        
                            <li><span>
                                <a href="http://www.360doc.com/content/12/1219/13/9400799_255065982.shtml" target="_blank" onclick="wzhit(45)">C语言文件的读写</a></span></li>
                        
                            <li><span>
                                <a href="http://www.360doc.com/content/12/1218/09/9400799_254716095.shtml" target="_blank" onclick="wzhit(45)">关于循环中数组值的调用计算</a></span></li>
                        
                            <li><span>
                                <a href="http://www.360doc.com/content/12/1218/09/9400799_254713902.shtml" target="_blank" onclick="wzhit(45)">重叠相加法（卷积）</a></span></li>
                        
                            <li><span>
                                <a href="http://www.360doc.com/content/12/1217/13/9400799_254547625.shtml" target="_blank" onclick="wzhit(45)">买房子怎么分辨好户型和坏户型</a></span></li>
                        
                            <li><span>
                                <a href="http://www.360doc.com/content/12/1213/21/9400799_253879102.shtml" target="_blank" onclick="wzhit(45)">HTC One ST|ST|SC/T528W|T|C手...</a></span></li>
                        
                </ul>
                <div class=" right">
                    <a href="http://www.360doc.com/userhome/9400799" target="_blank">更多&gt;&gt;</a></div>
            </div>
        </div>
        
    </div>
</div>
<div class="both" style="padding-top: 9px;">
    <script type="text/javascript">        var cpro_id = 'u1041292';</script>
    <script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script>
</div>

<div class="titwx" style="padding-top: 12px;">
    热门文章</div>
<div class="modlist left list rightlist">
    <ul>
        
                <li><span>
                    <a href="http://www.360doc.com/content/12/1225/20/0_256237171.shtml" target="_blank" onclick="wzhit(47)">白鹿原 电影</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/12/0427/13/0_207002513.shtml" target="_blank" onclick="wzhit(47)">家里有娃娃的请注意，终于把儿...</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/11/1221/10/0_173818721.shtml" target="_blank" onclick="wzhit(47)">戒掉穷脑袋，才有富口袋！</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/11/0930/17/0_152449895.shtml" target="_blank" onclick="wzhit(47)">性感时尚大片-颜丹晨（高清大图...</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/10/1028/07/0_64632685.shtml" target="_blank" onclick="wzhit(47)">爱情宽屏壁纸 [40P]</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/12/0827/00/0_232530159.shtml" target="_blank" onclick="wzhit(47)">经典老菜谱【上】</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/11/0619/16/0_128034954.shtml" target="_blank" onclick="wzhit(47)">颠覆你世界观的纪录片 （五集汇...</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/12/0521/22/0_212659382.shtml" target="_blank" onclick="wzhit(47)">每天学点人性管理</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/11/0511/13/0_115937377.shtml" target="_blank" onclick="wzhit(47)">孔子做人51精要</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/12/0921/13/0_237385885.shtml" target="_blank" onclick="wzhit(47)">转载：驾驶员内部考试资料……...</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/12/0822/11/0_231680855.shtml" target="_blank" onclick="wzhit(47)">一个高盛工作八年的学姐，总结...</a></span></li>
            
                <li><span>
                    <a href="http://www.360doc.com/content/11/0928/16/0_151901485.shtml" target="_blank" onclick="wzhit(47)">哪条经脉不通 从常见症状断分晓</a></span></li>
            
    </ul>
    <div class=" right">
        <a href="http://www.360doc.com/readroom.html" target="_blank">更多&gt;&gt;</a></div>
</div>

<p>
    &nbsp;
</p>
<p>
    <script>
        function change(pro_name, i) {
            var pro = document.getElementById(pro_name);
            var pro_arr = pro.getElementsByTagName("span");
            for (var m = 0; m < pro_arr.length; m++) {
                pro_arr[m].className = "unclecked link_black";
                if (document.getElementById(pro_name + "_ul_" + m) != null) {
                    document.getElementById(pro_name + "_ul_" + m).style.display = "none";
                }
            }
            pro_arr[i].className = "checked link_bai";
            if (document.getElementById(pro_name + "_ul_" + i) != null) {
                document.getElementById(pro_name + "_ul_" + i).style.display = "block";
            }
        }
    </script>
</p>

<div class="both" id="divad5" style="padding-top: 11px; top: 20px;">
    <div id="divad4" style="">
        <div>
            <script type="text/javascript">
                alimama_pid = "mm_11220363_1101997_10415986";
                alimama_width = 250;
                alimama_height = 250;
            </script>
            <script src="http://a.alimama.cn/inf.js" type="text/javascript"></script>
        </div>
        <div class="ggwz">
            <a href="javascript:void(0);" onclick="closead(2);">关闭</a>
        </div>
        <div style="height:13px;"></div>
    </div>
    <div><a target="_blank" href="http://www.360doc.com/mobilapp.htm" onclick="wzhit(48);"><img src="./CGIC_02_files/sj.gif"></a></div>
</div>
</td>
</tr>
</tbody>
</table>
 </div>

 <script language="javascript" type="text/javascript">
     var appName = navigator.appName.toLowerCase();
     if (appName.indexOf("microsoft internet explorer") > -1) {
         document.write("<scr" + "ipt type='text/javascript' src='http://www.360doc.com/js/StickySystemIENewVersion.js?t=20130102301'></sc" + "ript>");
        
      
     }
     else {
         document.write("<scr" + "ipt type='text/javascript' src='http://www.360doc.com/js/StickySystemOtherNewVersion.js?t=2013012301'></sc" + "ript>");
       
     }
         
</script><script type="text/javascript" src="./CGIC_02_files/StickySystemOtherNewVersion.js"></script>
<span id="LayerLogin"></span>
<script>GerLookingUserInfo(1,9400799,1,1,'-1',-1,10);OutputSource('http://hi.baidu.com/uc100200/blog/item/457714010180b114728da57a.html');OutputCategory(9400799,25,'cgi');OutputLastNextArt('CGIC简明教程','http://www.360doc.com/content/12/0423/14/9400799_205884213.shtml',0);OutputLastNextArt('CGI上传文件','http://www.360doc.com/content/12/0424/14/9400799_206145754.shtml',1);var wumiiPermaLink = "";var wumiiTitle = "C语言CGI上传文件";var wumiiTags = "";var wumiiSitePrefix = "http://www.360doc.com/";var wumiiParams = "&num=5&mode=2&pf=JAVASCRIPT";</script>


<script type="text/javascript" src="./CGIC_02_files/relatedItemsWidget"></script>
<script type="text/javascript">
    var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fd86954201130d615136257dde062a503' type='text/javascript'%3E%3C/script%3E"));
</script><script src="http://hm.baidu.com/h.js?d86954201130d615136257dde062a503" type="text/javascript"></script>


<div id="goTop" style="left: 1051.5px; display: block;"><a href="http://www.360doc.com/content/12/0424/14/9400799_206145305.shtml#" id="go_top"></a></div></body></html>